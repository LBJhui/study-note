HistoryNo 是根据 `SELECT CurrValue FROM quant.t_Counter WHERE CounterID = 't_QuantTestHistory' FOR UPDATE` 获得

# 期货回测信息

对应表名：t_Future_SimTestInfo

对应 csv 文件名：SimTestInfo.csv

```sql
CREATE TABLE quant.`t_Future_SimTestInfo`
(
    `HistoryNo`         BIGINT(10) NOT NULL COMMENT '回测编号',
    `BrokerID`          VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `UserID`            VARCHAR(20)    NOT NULL COMMENT '用户代码',
    `InvestorID`        VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `QuantID`           VARCHAR(32)    NOT NULL COMMENT '回测ID',
    `TestID`            VARCHAR(128)   NOT NULL COMMENT '测试ID',
    `TestName`          VARCHAR(128)   NOT NULL COMMENT '测试名称',
    `MDFrequency`       VARCHAR(20)    NOT NULL COMMENT '行情频率',
    `InitalAmount`      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '初始资金',
    `TestBeginTime`     VARCHAR(20)    NOT NULL COMMENT '测试开始时间',
    `TestEndTime`       VARCHAR(20)    NOT NULL COMMENT '测试结束时间',
    `ActualMDBeginDate` VARCHAR(8)     NOT NULL COMMENT '行情实际开始日期',
    `ActualMDEndDate`   VARCHAR(8)     NOT NULL COMMENT '行情实际结束日期',
    `SetMDBeginDate`    VARCHAR(8)     NOT NULL COMMENT '行情设置开始日期',
    `SetMDEndDate`      VARCHAR(8)     NOT NULL COMMENT '行情设置结束日期',
    `ManualID`          BIGINT(10) NULL DEFAULT NULL COMMENT '成交单回测编号',
    PRIMARY KEY (`HistoryNo`, `BrokerID`, `UserID`, `QuantID`, `TestID`)
) COMMENT='期货回测信息';
```

|        表字段        |  表字段说明   | 默认值  |      对应csv字段      |     字段说明      |      字段取值范围       |
|:-----------------:|:--------:|:----:|:-----------------:|:-------------:|:-----------------:|
|     HistoryNo     |   回测编号   |      |                   |               |                   |
|     BrokerID      |   会员代码   |      |     BrokerID      |    经纪公司代码     |                   |
|      UserID       |   用户代码   |      |    InvestorID     |     投资者代码     |                   |
|    InvestorID     |  投资者代码   |      |    InvestorID     |     投资者代码     |                   |
|      QuantID      |   回测ID   |      |                   |               |                   |
|      TestID       |   测试ID   |      |      TestID       |    本次回测标识号    |                   |
|     TestName      |   测试名称   |      |     TestName      |    本次回测名称     |                   |
|    MDFrequency    |   行情频率   |      |                   |               |      Ticker       |
|   InitalAmount    |   初始资金   |  0   |   InitalAmount    |     初始资金      |                   |
|   TestBeginTime   |  测试开始时间  |      |   TestBeginTime   |    测试开始时间     | 格式 YYYYMMDDhhmmss |
|    TestEndTime    |  测试结束时间  |      |    TestEndTime    |    测试完成时间     |                   |
| ActualMDBeginDate | 行情实际开始日期 |      | ActualMDBeginDate | 回测历史行情实际开始日期  |                   |
|  ActualMDEndDate  | 行情实际结束日期 |      |  ActualMDEndDate  | 回测历史行情实际结束日期  |                   |
|  SetMDBeginDate   | 行情设置开始日期 |      |  SetMDBeginDate   | 设置的回测历史行情开始日期 |                   |
|   SetMDEndDate    | 行情设置结束日期 |      |   SetMDEndDate    | 设置的回测历史行情结束日期 |                   |
|     ManualID      | 成交单回测编号  | NULL |                   |               |                   |

# 期货回测初始持仓信息

对应表名：t_Future_SimTestInitPosition

对应 csv 文件名：SimTestInitalPosition.csv

```sql
CREATE TABLE quant.`t_Future_SimTestInitPosition`
(
    `HistoryNo`      BIGINT(10) NOT NULL COMMENT '回测ID',
    `OpenDate`       VARCHAR(8)     NOT NULL COMMENT '开仓交易日',
    `ExchangeID`     VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`   VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `PosiDirection`  CHAR(1)        NOT NULL COMMENT '持仓方向',
    `Volume`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '持仓数量',
    `VolumeMultiple` INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OpenPrice`      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓价格',
    `InstrumentType` CHAR(1)        NOT NULL COMMENT '合约类型',
    PRIMARY KEY (`HistoryNo`, `OpenDate`, `ExchangeID`, `InstrumentID`, `PosiDirection`)
) COMMENT='期货回测初始持仓信息';
```

|      表字段       | 表字段说明 | 默认值 |      字段名称      |  字段说明  |            字段取值范围            |
|:--------------:|:-----:|:---:|:--------------:|:------:|:----------------------------:|
|   HistoryNo    | 回测ID  |     |                |        |                              |
|    OpenDate    | 开仓交易日 |     |    OpenDate    | 开仓交易日  |                              |
|   ExchangeID   | 交易所代码 |     |   ExchangeID   | 交易所代码  | CFFEX，SHFE，INE，DCE，CZCE，GFEX |
|  InstrumentID  | 合约代码  |     |  InstrumentID  |  合约代码  |                              |
| PosiDirection  | 持仓方向  |     | PosiDirection  | 持仓多空方向 |        多头 ‘2’ 空头 ‘3’         |
|     Volume     | 持仓数量  |  0  |     Volume     |  持仓数量  |                              |
| VolumeMultiple | 标的乘数  |  1  | VolumeMutiple  |  合约乘数  |                              |
|   OpenPrice    | 开仓价格  |  0  |   OpenPrice    |  开仓价   |                              |
| InstrumentType | 合约类型  |     | InstrumentType |  合约类型  |       期货 ：’1’ 期权 : ‘2’       |

# 期货回测成交信息

对应表名：t_Future_SimTestTrade

对应 csv 文件名：SimTestFutureTrade.csv

```sql
CREATE TABLE quant.`t_Future_SimTestTrade`
(
    `HistoryNo`      BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`     VARCHAR(8)     NOT NULL COMMENT '交易日',
    `TradeDate`      VARCHAR(8)     NOT NULL COMMENT '成交日期',
    `TradeTime`      VARCHAR(8)     NOT NULL COMMENT '成交时间',
    `TradeID`        VARCHAR(32)    NOT NULL COMMENT '成交ID',
    `BrokerID`       VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`     VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `ExchangeID`     VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`   VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `Direction`      CHAR(1)        NOT NULL COMMENT '买卖方向',
    `OffsetFlag`     CHAR(1)        NOT NULL COMMENT '开平标识',
    `HedgeFlag`      CHAR(1)        NOT NULL COMMENT '套保标识',
    `TradingRole`    CHAR(1)        NOT NULL COMMENT '交易角色 代理 1 自营 2 做市商 3',
    `Volume`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `VolumeMultiple` INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `Price`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交价格',
    `Commission`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '手续费',
    `TradeMDUpTime`  VARCHAR(20)    NOT NULL COMMENT '回测中驱动本次成交的行情',
    `PriceSource`    CHAR(1)        NOT NULL COMMENT '成交价来源 前成交价 0 买委托价 1 卖委托价 2',
    `OrderLocalID`   VARCHAR(32)    NOT NULL COMMENT '报单本地代码',
    `OrderSysID`     VARCHAR(32)    NOT NULL COMMENT '报单系统代码',
    `OrderRef`       VARCHAR(32)    NOT NULL COMMENT '报单引用',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `TradeID`, `ExchangeID`, `InstrumentID`, `OrderSysID`)
) COMMENT='期货回测成交信息';
```

|      表字段       |    表字段说明     | 默认值 |     字段名称      |     字段说明     |                                                    字段取值范围                                                    |
|:--------------:|:------------:|:---:|:-------------:|:------------:|:------------------------------------------------------------------------------------------------------------:|
|   HistoryNo    |              |     |               |              |                                                                                                              |
|   TradingDay   |     交易日      |     |  TradingDay   |     交易日      |                                                                                                              |
|   TradeDate    |     成交日期     |     |   TradeDate   |     成交日期     |                                                                                                              |
|   TradeTime    |     成交时间     |     |   TradeTime   |     成交时间     |                                                                                                              |
|    TradeID     |     成交ID     |     |    TradeID    |     成交编号     |                                                                                                              |
|    BrokerID    |     会员代码     |     |   BrokerID    |    经纪公司代码    |                                                                                                              |
|   InvestorID   |    投资者代码     |     |  InvestorID   |    投资者代码     |                                                                                                              |
|   ExchangeID   |    交易所代码     |     |  ExchangeID   |    交易所代码     |                                         CFFEX，SHFE，INE，DCE，CZCE，GFEX                                         |
|  InstrumentID  |     合约代码     |     | InstrumentID  |     合约代码     |                                                                                                              |
|   Direction    |     买卖方向     |     |   Direction   |     买卖方向     |                                                 买 ‘0’ 卖 ‘1’                                                  |
|   OffsetFlag   |     开平标识     |     |  OffsetFlag   |     开平标志     |                              开仓 '0' 平仓 '1' 强平 '2' 平今 '3' 平昨 '4' 强减 '5' 本地强平 '6'                              |
|   HedgeFlag    |     套保标识     |     |   HedgeFlag   |    投机套保标志    |                                   Speculation '1' Arbitrage '2' Hedge '3'                                    |
|  TradingRole   |     交易角色     |     |  TradingRole  |     交易角色     |                                            代理 '1' 自营 '2' 做市商 '3'                                             |
|     Volume     |     成交数量     |  0  |    Volume     |     成交数量     |                                                                                                              |
| VolumeMultiple |     标的乘数     |  1  | VolumeMutiple |     合约乘数     |                                                                                                              |
|     Price      |     成交价格     |  0  |     Price     |     成交价格     |                                                                                                              |
|   Commission   |     手续费      |  0  |  Commission   |     手续费      |                                                                                                              |
| TradeMDUpTime  | 回测中驱动本次成交的行情 |     | TradeMDUpTime | 回测中驱动本次成交的行情 | 数据格式：HH:MM:SS.mmm （HH:MM:SS 是 24 小时制显示，mmm 是毫秒）。 通过 InstrumentID，TradingDay，TradeMDUpTime 三个字段便可以找到对应那条行情记录。 |
|  PriceSource   |    成交价来源     |     |  PriceSource  |    成交价来源     |                                          前成交价 '0' 买委托价 '1' 卖委托价 '2'                                          |
|  OrderLocalID  |    报单本地代码    |     | OrderLocalID  |    本地报单编号    |                                                                                                              |
|   OrderSysID   |    报单系统代码    |     |  OrderSysID   |     报单编号     |                                                                                                              |
|    OrderRef    |     报单引用     |     |   OrderRef    |     报单引用     |                                                                                                              |

# 期货回测报单信息

对应表名：t_Future_SimTestOrder

对应 csv 文件名：SimTestFutureOrder.csv

```sql
CREATE TABLE quant.`t_Future_SimTestOrder`
(
    `HistoryNo`           BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`          VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`            VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`          VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `AccountID`           VARCHAR(20)    NOT NULL COMMENT '资金账号',
    `CurrencyID`          VARCHAR(20)    NOT NULL COMMENT '币种代码',
    `ExchangeID`          VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`        VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `Direction`           CHAR(1)        NOT NULL COMMENT '买卖方向',
    `OffsetFlag`          CHAR(1)        NOT NULL COMMENT '开平标识',
    `HedgeFlag`           CHAR(1)        NOT NULL COMMENT '套保标识',
    `OrderPriceType`      CHAR(1)        NOT NULL COMMENT '报单价格类型',
    `TimeCondition`       CHAR(1)        NOT NULL COMMENT '报单有效期类型 立即完成，否则撤销  1 本节有效  2 当日有效  3 指定日期前有效  4 撤销前有效  5 集合竞价有效  6',
    `VolumeCondition`     CHAR(1)        NOT NULL COMMENT '报单成交数量类型 任何数量 1 最小数量 2 全部数量 3',
    `ContingentCondition` CHAR(1)        NOT NULL COMMENT '触发条件 立即 1 止损 2 止赢 3 预埋单 4 最新价大于条件价 5 最新价大于等于条件价 6 最新价小于条件价 7 最新价小于等于条件价 8 卖一价大于条件价 9 卖一价大于等于条件价 A 卖一价小于条件价 B 卖一价小于等于条件价 C 买一价大于条件价 D 买一价大于等于条件价 E 买一价小于条件价 F 买一价小于等于条件价 H',
    `LimitPrice`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '价格',
    `StopPrice`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '止损价',
    `VolumeTotalOriginal` BIGINT(16) NOT NULL DEFAULT '0' COMMENT '委托数量',
    `ForceCloseReason`    CHAR(1)        NOT NULL COMMENT '强平原因 非强平 0 资金不足 1 客户超仓 2 会员超仓 3 持仓非整数倍 4 违规 5 其它 6 自然人临近交割 7',
    `OrderLocalID`        VARCHAR(32)    NOT NULL COMMENT '报单本地代码',
    `OrderSysID`          VARCHAR(32)    NOT NULL COMMENT '报单系统代码',
    `OrderRef`            VARCHAR(32)    NOT NULL COMMENT '报单引用',
    `OrderStatus`         CHAR(1)        NOT NULL COMMENT '报单状态',
    `OrderSource`         CHAR(1)        NOT NULL COMMENT '报单来源 来自参与者 0 来自管理员 1',
    `OrderType`           CHAR(1)        NOT NULL COMMENT '报单类型 正常 0 报价衍生 1 组合衍生 2 组合报单 3 条件单 4 互换单 5 大宗交易成交衍生 6 期转现成交衍生 7',
    `MinVolume`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '最小成交量',
    `VolumeTraded`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `VolumeTotal`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `VolumeMultiple`      INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `RequestID`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '请求编号',
    `GTDDate`             VARCHAR(8) NULL COMMENT 'GTD日期',
    `InsertDate`          VARCHAR(8)     NOT NULL COMMENT '报单日期',
    `InsertTime`          VARCHAR(8)     NOT NULL COMMENT '报单时间',
    `UpdateTime`          VARCHAR(8) NULL COMMENT '更新时间',
    `CancelTime`          VARCHAR(8) NULL COMMENT '撤单时间',
    `TradeAmount`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交金额',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `ExchangeID`, `InstrumentID`, `OrderLocalID`, `OrderSysID`)
) COMMENT='期货回测报单信息';
```

|         表字段         |  表字段说明   | 默认值 |        字段名称         |  字段说明   |                                                                                                字段取值范围                                                                                                |
|:-------------------:|:--------:|:---:|:-------------------:|:-------:|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|      HistoryNo      |   回测ID   |     |                     |         |                                                                                                                                                                                                      |
|     TradingDay      |   交易日    |     |     TradingDay      |   交易日   |                                                                                                                                                                                                      |
|      BrokerID       |   会员代码   |     |      BrokerID       | 经纪公司代码  |                                                                                                                                                                                                      |
|     InvestorID      |  投资者代码   |     |     InvestorID      |  投资者代码  |                                                                                                                                                                                                      |
|      AccountID      |   资金账号   |     |      AccountID      |  资金账号   |                                                                                                                                                                                                      |
|     CurrencyID      |   币种代码   |     |     CurrencyID      |  币种代码   |                                                                                                                                                                                                      |
|     ExchangeID      |  交易所代码   |     |     ExchangeID      |  交易所代码  |                                                                                     CFFEX，SHFE，INE，DCE，CZCE，GFEX                                                                                     |
|    InstrumentID     |   合约代码   |     |    InstrumentID     |  合约代码   |                                                                                                                                                                                                      |
|      Direction      |   买卖方向   |     |      Direction      |  买卖方向   |                                                                                             买 ‘0’ 卖 ‘1’                                                                                              |
|     OffsetFlag      |   开平标识   |     |     OffsetFlag      |  开平标志   |                                                                          开仓 '0' 平仓 '1' 强平 '2' 平今 '3' 平昨 '4' 强减 '5' 本地强平 '6'                                                                          |
|      HedgeFlag      |   套保标识   |     |      HedgeFlag      | 投机套保标志  |                                                                               Speculation '1' Arbitrage '2' Hedge '3'                                                                                |
|   OrderPriceType    |  报单价格类型  |     |   OrderPriceType    | 报单价格条件  |                                                                   任意价 '1' 限价 '2' 最优价 '3' 最新价 '4' 卖一价 '8' 卖一价 '8' 买一价 ' C' 五档价 ' G'                                                                   |
|    TimeCondition    | 报单有效期类型  |     |    TimeCondition    |  有效期类型  |                                                                   立即完成，否则撤销 '1' 本节有效 '2' 当日有效 '3' 指定日期前有效 '4' 撤销前有效 '5' 集合竞价有效 '6'                                                                   |
|   VolumeCondition   | 报单成交数量类型 |     |   VolumeCondition   |  成交量类型  |                                                                                      任何数量 '1' 最小数量 '2' 全部数量 '3'                                                                                      |
| ContingentCondition |   触发条件   |     | ContingentCondition |  触发条件   | 立即 '1' 止损 '2' 止赢 '3' 预埋单 '4' 最新价大于条件价 '5' 最新价大于等于条件价 '6' 最新价小于条件价 '7' 最新价小于等于条件价 '8' 卖一价大于条件价 '9' 卖一价大于等于条件价 'A' 卖一价小于条件价 'B' 卖一价小于等于条件价 'C' 买一价大于条件价 'D' 买一价大于等于条件价 'E' 买一价小于条件价 'F' 买一价小于等于条件价 'H' |
|     LimitPrice      |    价格    |  0  |     LimitPrice      |  委托价格   |                                                                                                                                                                                                      |
|      StopPrice      |   止损价    |  0  |      StopPrice      |   止损价   |                                                                                                                                                                                                      |
| VolumeTotalOriginal |   委托数量   |     | VolumeTotalOriginal |  委托数量   |                                                                                                                                                                                                      |
|  ForceCloseReason   |   强平原因   |     |  ForceCloseReason   |  强平原因   |                                                               非强平 '0' 资金不足 '1' 客户超仓 '2' 会员超仓 '3' 持仓非整数倍 '4' 违规 '5' 其它 '6' 自然人临近交割 '7'                                                                |
|    OrderLocalID     |  报单本地代码  |     |    OrderLocalID     | 本地报单编号  |                                                                                                                                                                                                      |
|     OrderSysID      |  报单系统代码  |     |     OrderSysID      |  报单编号   |                                                                                                                                                                                                      |
|      OrderRef       |   报单引用   |     |      OrderRef       |  报单引用   |                                                                                                                                                                                                      |
|     OrderStatus     |   报单状态   |     |     OrderStatus     |  报单状态   |                                                                                  全部成交 '0' 部分成交 '1' 未成交 ' 3' 撤单 '5'                                                                                   |
|     OrderSource     |   报单来源   |     |     OrderSource     |  报单来源   |                                                                                         来自参与者 '0' 来自管理员 '1'                                                                                          |
|      OrderType      |   报单类型   |     |      OrderType      |  报单类型   |                                                              正常 '0' 报价衍生 '1' 组合衍生 '2' 组合报单 '3' 条件单 '4' 互换单 '5' 大宗交易成交衍生 '6' 期转现成交衍生 '7'                                                              |
|      MinVolume      |  最小成交量   |  0  |      MinVolume      |  最小成交量  |                                                                                                                                                                                                      |
|    VolumeTraded     |   成交数量   |  0  |    VolumeTraded     |  成交数量   |                                                                                                                                                                                                      |
|     VolumeTotal     |   剩余数量   |  0  |     VolumeTotal     |  剩余数量   |                                                                                                                                                                                                      |
|   VolumeMultiple    |   标的乘数   |  1  |    VolumeMutiple    |  合约乘数   |                                                                                                                                                                                                      |
|      RequestID      |   请求编号   |  0  |      RequestID      |  请求编号   |                                                                                                                                                                                                      |
|       GTDDate       |  GTD日期   |     |       GTDDate       | GTD 日期  |                                                                                                                                                                                                      |
|     InsertDate      |   报单日期   |     |     InsertDate      |  报单日期   |                                                                                                                                                                                                      |
|     InsertTime      |   报单时间   |     |     InsertTime      |  委托时间   |                                                                                                                                                                                                      |
|     UpdateTime      |   更新时间   |     |     UpdateTime      | 最后修改时间  |                                                                                                                                                                                                      |
|     CancelTime      |   撤单时间   |     |     CancelTime      |  撤销时间   |                                                                                                                                                                                                      |
|     TradeAmount     |   成交金额   |  0  |     TradeAmount     | 报单的成交金额 |                                                                                                                                                                                                      |

# 期货回测持仓信息

对应表名：t_Future_SimTestPosition

对应 csv 文件名：SimTestFuturePosition.csv

```sql

CREATE TABLE quant.`t_Future_SimTestPosition`
(
    `HistoryNo`          BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`         VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`           VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`         VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `InvestUnitID`       VARCHAR(20) NULL COMMENT '投资单位代码',
    `ExchangeID`         VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`       VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `PosiDirection`      CHAR(1)        NOT NULL COMMENT '持仓方向',
    `HedgeFlag`          CHAR(1)        NOT NULL COMMENT '套保标识',
    `PositionDate`       CHAR(1)        NOT NULL COMMENT '持仓日期',
    `YdPosition`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '昨持仓数量',
    `Position`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '持仓数量',
    `OpenVolume`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '开仓数量',
    `CloseVolume`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT '平仓数量',
    `VolumeMultiple`     INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OpenAmount`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓金额',
    `CloseAmount`        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓金额',
    `ClosePrice`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '合约收盘价',
    `PositionCost`       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓成本',
    `PreMargin`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '昨保证金',
    `UseMargin`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保证金',
    `CashIn`             DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '资金差额',
    `Commission`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易费用',
    `CloseProfit`        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓收益',
    `PositionProfit`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓收益',
    `PreSettlementPrice` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '昨结算价格',
    `SettlementPrice`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '结算价格',
    `SettlementID`       BIGINT(16) NOT NULL DEFAULT '0' COMMENT '结算编号',
    `OpenCost`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓成本',
    `ExchangeMargin`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易所保证金',
    `CombPosition`       BIGINT(16) NOT NULL DEFAULT '0' COMMENT '组合成交形成的持仓',
    `CloseProfitByDate`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐日盯市平仓盈亏',
    `CloseProfitByTrade` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐笔对冲平仓收益',
    `TodayPosition`      BIGINT(16) NOT NULL DEFAULT '0' COMMENT '今日持仓',
    `MarginRateByMoney`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保证金率',
    `MarginRateByVolume` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '按手保证金率',
    `PositionCostOffset` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓成本差值',
    `TasPosition`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT 'tas持仓手数',
    `TasPositionCost`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT 'tas持仓成本',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `BrokerID`, `InvestorID`, `ExchangeID`, `InstrumentID`, `PosiDirection`)
) COMMENT='期货回测持仓信息';
```

|        表字段         |   表字段说明   | 默认值 |        字段名称        |   字段说明    |                 字段取值范围                  |
|:------------------:|:---------:|:---:|:------------------:|:---------:|:---------------------------------------:|
|     HistoryNo      |           |     |                    |           |                                         |
|     TradingDay     |    交易日    |     |     TradingDay     |    交易日    |                                         |
|      BrokerID      |   会员代码    |     |      BrokerID      |  经纪公司代码   |                                         |
|     InvestorID     |   投资者代码   |     |     InvestorID     |   投资者代码   |                                         |
|    InvestUnitID    |  投资单位代码   |     |    InvestUnitID    |  投资单位代码   |                                         |
|     ExchangeID     |   交易所代码   |     |     ExchangeID     |   交易所代码   |      CFFEX，SHFE，INE，DCE，CZCE，GFEX       |
|    InstrumentID    |   合约代码    |     |    InstrumentID    |   合约代码    |                                         |
|   PosiDirection    |   持仓方向    |     |   PosiDirection    |  持仓多空方向   |              多头 ‘2’ 空头 ‘3’              |
|     HedgeFlag      |   套保标识    |     |     HedgeFlag      |  投机套保标志   | Speculation '1' Arbitrage '2' Hedge '3' |
|    PositionDate    |   持仓日期    |     |    PositionDate    |   持仓日期    |            今日持仓：‘1’ 历史持仓：‘2’            |
|     YdPosition     |   昨持仓数量   |  0  |     YdPosition     |   上日持仓    |                                         |
|      Position      |   持仓数量    |  0  |      Position      |   今日持仓    |                                         |
|     OpenVolume     |   开仓数量    |  0  |     OpenVolume     |    开仓量    |                                         |
|    CloseVolume     |   平仓数量    |  0  |    CloseVolume     |    平仓量    |                                         |
|   VolumeMultiple   |   标的乘数    |  1  |   VolumeMutiple    |   合约乘数    |                                         |
|     OpenAmount     |   开仓金额    |  0  |     OpenAmount     |   开仓金额    |                                         |
|    CloseAmount     |   平仓金额    |  0  |    CloseAmount     |   平仓金额    |                                         |
|     ClosePrice     |   合约收盘价   |  0  |                    |           |                                         |
|    PositionCost    |   持仓成本    |  0  |    PositionCost    |   持仓成本    |                                         |
|     PreMargin      |   昨保证金    |  0  |     PreMargin      | 上次占用的保证金  |                                         |
|        资金差额        |    保证金    |  0  |     UseMargin      |  占用的保证金   |                                         |
|       CashIn       |   资金差额    |  0  |       CashIn       |   资金差额    |                                         |
|     Commission     |   交易费用    |  0  |     Commission     |    手续费    |                                         |
|    CloseProfit     |   平仓收益    |  0  |    CloseProfit     |   平仓盈亏    |                                         |
|   PositionProfit   |   持仓收益    |  0  |   PositionProfit   |   持仓盈亏    |                                         |
| PreSettlementPrice |   昨结算价格   |  0  | PreSettlementPrice |   上次结算价   |                                         |
|  SettlementPrice   |   结算价格    |  0  |  SettlementPrice   |   本次结算价   |                                         |
|    SettlementID    |   结算编号    |  0  |    SettlementID    |   结算编号    |                                         |
|      OpenCost      |   开仓成本    |  0  |      OpenCost      |   开仓成本    |                                         |
|   ExchangeMargin   |  交易所保证金   |  0  |   ExchangeMargin   |  交易所保证金   |                                         |
|    CombPosition    | 组合成交形成的持仓 |  0  |    CombPosition    | 组合成交形成的持仓 |                                         |
| CloseProfitByDate  | 逐日盯市平仓盈亏  |  0  | CloseProfitByDate  | 逐日盯市平仓盈亏  |                                         |
| CloseProfitByTrade | 逐笔对冲平仓收益  |  0  | CloseProfitByTrade | 逐笔对冲平仓盈亏  |                                         |
|   TodayPosition    |   今日持仓    |  0  |   TodayPosition    |   今日持仓    |                                         |
| MarginRateByMoney  |   保证金率    |  0  | MarginRateByMoney  |   保证金率    |                                         |
| MarginRateByVolume |  按手保证金率   |  0  | MarginRateByVolume | 保证金率(按手数) |                                         |
| PositionCostOffset |  持仓成本差值   |  0  | PositionCostOffset |  持仓成本差值   |                                         |
|    TasPosition     |  tas持仓手数  |  0  |    TasPosition     | tas 持仓手数  |                                         |
|  TasPositionCost   |  tas持仓成本  |  0  |  TasPositionCost   | tas 持仓成本  |                                         |

# 期货回测持仓明细信息

对应表名：t_Future_SimTestPositionDetail

对应 csv 文件名：SimTestFuturePositionDetail.csv

```sql
CREATE TABLE quant.`t_Future_SimTestPositionDetail`
(
    `HistoryNo`             BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`            VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`              VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`            VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `InvestUnitID`          VARCHAR(20) NULL COMMENT '投资单位代码',
    `ExchangeID`            VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`          VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `Direction`             CHAR(1)        NOT NULL COMMENT '买卖方向',
    `HedgeFlag`             CHAR(1)        NOT NULL COMMENT '套保标识',
    `OpenDate`              VARCHAR(8)     NOT NULL COMMENT '开仓日期',
    `TradeID`               VARCHAR(32)    NOT NULL COMMENT '成交ID',
    `Volume`                BIGINT(16) NOT NULL DEFAULT '0' COMMENT '数量',
    `VolumeMultiple`        INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OpenPrice`             DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓价格',
    `SettlementID`          BIGINT(16) NOT NULL DEFAULT '0' COMMENT '结算编号',
    `CloseProfitByDate`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐日盯市平仓盈亏',
    `CloseProfitByTrade`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐笔对冲平仓收益',
    `PositionProfitByDate`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐日盯市持仓盈亏',
    `PositionProfitByTrade` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐笔对冲持仓盈亏',
    `Margin`                DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '投资者保证金',
    `ExchMargin`            DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易所保证金',
    `MarginRateByMoney`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保证金率',
    `MarginRateByVolume`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '按手保证金率',
    `LastSettlementPrice`   DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '昨结算价格',
    `SettlementPrice`       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '结算价格',
    `CloseVolume`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '平仓数量',
    `CloseAmount`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓金额',
    `TimeFirstVolume`       BIGINT(16) NOT NULL DEFAULT '0' COMMENT '先开先平剩余数量',
    `SpecPosiType`          CHAR(1)        NOT NULL COMMENT '特殊持仓标志 普通持仓明细 # TAS合约成交产生的标的合约持仓明细 0',
    `CombInstrumentID`      VARCHAR(32) NULL COMMENT '组合合约代码',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `BrokerID`, `InvestorID`, `ExchangeID`, `InstrumentID`, `Direction`,
                 `OpenDate`, `TradeID`)
) COMMENT='期货回测持仓明细信息'
```

| 字段名称                  | 字段说明      | 字段类型   | 字段取值范围                                  |
|-----------------------|-----------|--------|-----------------------------------------|
| TradingDay            | 交易日       | 字符串    |                                         |
| BrokerID              | 经纪公司代码    | 字符串    |                                         |
| InvestorID            | 投资者代码     | 字符串    |                                         |
| InstrumentID          | 合约代码      | 字符串    |                                         |
| ExchangeID            | 交易所代码     | 字符串    | CFFEX，SHFE，INE，DCE，CZCE，GFEX            |
| Direction             | 买卖方向      | char   | 买 ‘0’ 卖 ‘1’                             |
| HedgeFlag             | 投机套保标志    | char   | Speculation '1' Arbitrage '2' Hedge '3' |
| OpenDate              | 开仓日期      | 字符串    |                                         |
| TradeID               | 成交编号      | 字符串    |                                         |
| Volume                | 数量        | int    |                                         |
| OpenPrice             | 开仓价格      | double |                                         |
| SettlementID          | 结算编号      | int    |                                         |
| CloseProfitByDate     | 逐日盯市平仓盈亏  | double |                                         |
| CloseProfitByTrade    | 逐笔对冲平仓盈亏  | double |                                         |
| PositionProfitByDate  | 逐日盯市持仓盈亏  | double |                                         |
| PositionProfitByTrade | 逐笔对冲持仓盈亏  | double |                                         |
| Margin                | 投资者保证金    | double |                                         |
| ExchMargin            | 交易所保证金    | double |                                         |
| MarginRateByMoney     | 保证金率      | double |                                         |
| MarginRateByVolume    | 保证金率(按手数) | double |                                         |
| LastSettlementPrice   | 昨结算价      | double |                                         |
| SettlementPrice       | 结算价       | double |                                         |
| CloseVolume           | 平仓量       | int    |                                         |
| CloseAmount           | 平仓金额      | double |                                         |
| TimeFirstVolume       | 先开先平剩余数量  | int    |                                         |
| InvestUnitID          | 投资单元代码    | 字符串    |                                         |
| SpecPosiType          | 特殊持仓标志    | char   | 普通持仓明细 '#' TAS 合约成交产生的标的合约持仓明细 '0'      |
| CombInstrumentID      | 组合合约代码    | 字符串    |                                         |
| VolumeMutiple         | 合约乘数      | int    |                                         |
