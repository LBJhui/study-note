HistoryNo 是根据 `SELECT CurrValue FROM quant.t_Counter WHERE CounterID = 't_QuantTestHistory' FOR UPDATE` 获得

# csv 原始数据落库

## 期货回测信息

对应表名：t_Future_SimTestInfo

对应 csv 文件名：SimTestInfo.csv(回测概要信息文件)

```sql
CREATE TABLE quant.`t_Future_SimTestInfo`
(
    `HistoryNo`         BIGINT(10) NOT NULL COMMENT '回测编号',
    `BrokerID`          VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `UserID`            VARCHAR(20)    NOT NULL COMMENT '用户代码',
    `InvestorID`        VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `QuantID`           VARCHAR(32)    NOT NULL COMMENT '回测ID',
    `TestID`            VARCHAR(128)   NOT NULL COMMENT '测试ID',
    `TestName`          VARCHAR(128)   NOT NULL COMMENT '测试名称',
    `MDFrequency`       VARCHAR(20)    NOT NULL COMMENT '行情频率',
    `InitalAmount`      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '初始资金',
    `TestBeginTime`     VARCHAR(20)    NOT NULL COMMENT '测试开始时间',
    `TestEndTime`       VARCHAR(20)    NOT NULL COMMENT '测试结束时间',
    `ActualMDBeginDate` VARCHAR(8)     NOT NULL COMMENT '行情实际开始日期',
    `ActualMDEndDate`   VARCHAR(8)     NOT NULL COMMENT '行情实际结束日期',
    `SetMDBeginDate`    VARCHAR(8)     NOT NULL COMMENT '行情设置开始日期',
    `SetMDEndDate`      VARCHAR(8)     NOT NULL COMMENT '行情设置结束日期',
    `ManualID`          BIGINT(10) NULL DEFAULT NULL COMMENT '成交单回测编号',
    PRIMARY KEY (`HistoryNo`, `BrokerID`, `UserID`, `QuantID`, `TestID`)
) COMMENT='期货回测信息';
```

|        表字段        |  表字段说明   | 默认值  |      对应csv字段      |     字段说明      |      字段取值范围       |
|:-----------------:|:--------:|:----:|:-----------------:|:-------------:|:-----------------:|
|     HistoryNo     |   回测编号   |      |                   |               |                   |
|     BrokerID      |   会员代码   |      |     BrokerID      |    经纪公司代码     |                   |
|      UserID       |   用户代码   |      |    InvestorID     |     投资者代码     |                   |
|    InvestorID     |  投资者代码   |      |    InvestorID     |     投资者代码     |                   |
|      QuantID      |   回测ID   |      |                   |               |                   |
|      TestID       |   测试ID   |      |      TestID       |    本次回测标识号    |                   |
|     TestName      |   测试名称   |      |     TestName      |    本次回测名称     |                   |
|    MDFrequency    |   行情频率   |      |                   |               |      Ticker       |
|   InitalAmount    |   初始资金   |  0   |   InitalAmount    |     初始资金      |                   |
|   TestBeginTime   |  测试开始时间  |      |   TestBeginTime   |    测试开始时间     | 格式 YYYYMMDDhhmmss |
|    TestEndTime    |  测试结束时间  |      |    TestEndTime    |    测试完成时间     |                   |
| ActualMDBeginDate | 行情实际开始日期 |      | ActualMDBeginDate | 回测历史行情实际开始日期  |                   |
|  ActualMDEndDate  | 行情实际结束日期 |      |  ActualMDEndDate  | 回测历史行情实际结束日期  |                   |
|  SetMDBeginDate   | 行情设置开始日期 |      |  SetMDBeginDate   | 设置的回测历史行情开始日期 |                   |
|   SetMDEndDate    | 行情设置结束日期 |      |   SetMDEndDate    | 设置的回测历史行情结束日期 |                   |
|     ManualID      | 成交单回测编号  | NULL |                   |               |                   |

## 期货回测初始持仓信息

对应表名：t_Future_SimTestInitPosition

对应 csv 文件名：SimTestInitalPosition.csv(初始持仓文件)

```sql
CREATE TABLE quant.`t_Future_SimTestInitPosition`
(
    `HistoryNo`      BIGINT(10) NOT NULL COMMENT '回测ID',
    `OpenDate`       VARCHAR(8)     NOT NULL COMMENT '开仓交易日',
    `ExchangeID`     VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`   VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `PosiDirection`  CHAR(1)        NOT NULL COMMENT '持仓方向',
    `Volume`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '持仓数量',
    `VolumeMultiple` INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OpenPrice`      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓价格',
    `InstrumentType` CHAR(1)        NOT NULL COMMENT '合约类型',
    PRIMARY KEY (`HistoryNo`, `OpenDate`, `ExchangeID`, `InstrumentID`, `PosiDirection`)
) COMMENT='期货回测初始持仓信息';
```

|      表字段       | 表字段说明 | 默认值 |      字段名称      |  字段说明  |            字段取值范围            |
|:--------------:|:-----:|:---:|:--------------:|:------:|:----------------------------:|
|   HistoryNo    | 回测ID  |     |                |        |                              |
|    OpenDate    | 开仓交易日 |     |    OpenDate    | 开仓交易日  |                              |
|   ExchangeID   | 交易所代码 |     |   ExchangeID   | 交易所代码  | CFFEX，SHFE，INE，DCE，CZCE，GFEX |
|  InstrumentID  | 合约代码  |     |  InstrumentID  |  合约代码  |                              |
| PosiDirection  | 持仓方向  |     | PosiDirection  | 持仓多空方向 |        多头 ‘2’ 空头 ‘3’         |
|     Volume     | 持仓数量  |  0  |     Volume     |  持仓数量  |                              |
| VolumeMultiple | 标的乘数  |  1  | VolumeMutiple  |  合约乘数  |                              |
|   OpenPrice    | 开仓价格  |  0  |   OpenPrice    |  开仓价   |                              |
| InstrumentType | 合约类型  |     | InstrumentType |  合约类型  |       期货 ：’1’ 期权 : ‘2’       |

## 期货回测成交信息

对应表名：t_Future_SimTestTrade

对应 csv 文件名：SimTestFutureTrade.csv(期货成交明细文件)

```sql
CREATE TABLE quant.`t_Future_SimTestTrade`
(
    `HistoryNo`      BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`     VARCHAR(8)     NOT NULL COMMENT '交易日',
    `TradeDate`      VARCHAR(8)     NOT NULL COMMENT '成交日期',
    `TradeTime`      VARCHAR(8)     NOT NULL COMMENT '成交时间',
    `TradeID`        VARCHAR(32)    NOT NULL COMMENT '成交ID',
    `BrokerID`       VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`     VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `ExchangeID`     VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`   VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `Direction`      CHAR(1)        NOT NULL COMMENT '买卖方向',
    `OffsetFlag`     CHAR(1)        NOT NULL COMMENT '开平标识',
    `HedgeFlag`      CHAR(1)        NOT NULL COMMENT '套保标识',
    `TradingRole`    CHAR(1)        NOT NULL COMMENT '交易角色 代理 1 自营 2 做市商 3',
    `Volume`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `VolumeMultiple` INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `Price`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交价格',
    `Commission`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '手续费',
    `TradeMDUpTime`  VARCHAR(20)    NOT NULL COMMENT '回测中驱动本次成交的行情',
    `PriceSource`    CHAR(1)        NOT NULL COMMENT '成交价来源 前成交价 0 买委托价 1 卖委托价 2',
    `OrderLocalID`   VARCHAR(32)    NOT NULL COMMENT '报单本地代码',
    `OrderSysID`     VARCHAR(32)    NOT NULL COMMENT '报单系统代码',
    `OrderRef`       VARCHAR(32)    NOT NULL COMMENT '报单引用',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `TradeID`, `ExchangeID`, `InstrumentID`, `OrderSysID`)
) COMMENT='期货回测成交信息';
```

|      表字段       |    表字段说明     | 默认值 |     字段名称      |     字段说明     |                                                    字段取值范围                                                    |
|:--------------:|:------------:|:---:|:-------------:|:------------:|:------------------------------------------------------------------------------------------------------------:|
|   HistoryNo    |              |     |               |              |                                                                                                              |
|   TradingDay   |     交易日      |     |  TradingDay   |     交易日      |                                                                                                              |
|   TradeDate    |     成交日期     |     |   TradeDate   |     成交日期     |                                                                                                              |
|   TradeTime    |     成交时间     |     |   TradeTime   |     成交时间     |                                                                                                              |
|    TradeID     |     成交ID     |     |    TradeID    |     成交编号     |                                                                                                              |
|    BrokerID    |     会员代码     |     |   BrokerID    |    经纪公司代码    |                                                                                                              |
|   InvestorID   |    投资者代码     |     |  InvestorID   |    投资者代码     |                                                                                                              |
|   ExchangeID   |    交易所代码     |     |  ExchangeID   |    交易所代码     |                                         CFFEX，SHFE，INE，DCE，CZCE，GFEX                                         |
|  InstrumentID  |     合约代码     |     | InstrumentID  |     合约代码     |                                                                                                              |
|   Direction    |     买卖方向     |     |   Direction   |     买卖方向     |                                                 买 ‘0’ 卖 ‘1’                                                  |
|   OffsetFlag   |     开平标识     |     |  OffsetFlag   |     开平标志     |                              开仓 '0' 平仓 '1' 强平 '2' 平今 '3' 平昨 '4' 强减 '5' 本地强平 '6'                              |
|   HedgeFlag    |     套保标识     |     |   HedgeFlag   |    投机套保标志    |                                   Speculation '1' Arbitrage '2' Hedge '3'                                    |
|  TradingRole   |     交易角色     |     |  TradingRole  |     交易角色     |                                            代理 '1' 自营 '2' 做市商 '3'                                             |
|     Volume     |     成交数量     |  0  |    Volume     |     成交数量     |                                                                                                              |
| VolumeMultiple |     标的乘数     |  1  | VolumeMutiple |     合约乘数     |                                                                                                              |
|     Price      |     成交价格     |  0  |     Price     |     成交价格     |                                                                                                              |
|   Commission   |     手续费      |  0  |  Commission   |     手续费      |                                                                                                              |
| TradeMDUpTime  | 回测中驱动本次成交的行情 |     | TradeMDUpTime | 回测中驱动本次成交的行情 | 数据格式：HH:MM:SS.mmm （HH:MM:SS 是 24 小时制显示，mmm 是毫秒）。 通过 InstrumentID，TradingDay，TradeMDUpTime 三个字段便可以找到对应那条行情记录。 |
|  PriceSource   |    成交价来源     |     |  PriceSource  |    成交价来源     |                                          前成交价 '0' 买委托价 '1' 卖委托价 '2'                                          |
|  OrderLocalID  |    报单本地代码    |     | OrderLocalID  |    本地报单编号    |                                                                                                              |
|   OrderSysID   |    报单系统代码    |     |  OrderSysID   |     报单编号     |                                                                                                              |
|    OrderRef    |     报单引用     |     |   OrderRef    |     报单引用     |                                                                                                              |

## 期货回测报单信息

对应表名：t_Future_SimTestOrder

对应 csv 文件名：SimTestFutureOrder.csv(期货报单明细文件)

```sql
CREATE TABLE quant.`t_Future_SimTestOrder`
(
    `HistoryNo`           BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`          VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`            VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`          VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `AccountID`           VARCHAR(20)    NOT NULL COMMENT '资金账号',
    `CurrencyID`          VARCHAR(20)    NOT NULL COMMENT '币种代码',
    `ExchangeID`          VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`        VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `Direction`           CHAR(1)        NOT NULL COMMENT '买卖方向',
    `OffsetFlag`          CHAR(1)        NOT NULL COMMENT '开平标识',
    `HedgeFlag`           CHAR(1)        NOT NULL COMMENT '套保标识',
    `OrderPriceType`      CHAR(1)        NOT NULL COMMENT '报单价格类型',
    `TimeCondition`       CHAR(1)        NOT NULL COMMENT '报单有效期类型 立即完成，否则撤销  1 本节有效  2 当日有效  3 指定日期前有效  4 撤销前有效  5 集合竞价有效  6',
    `VolumeCondition`     CHAR(1)        NOT NULL COMMENT '报单成交数量类型 任何数量 1 最小数量 2 全部数量 3',
    `ContingentCondition` CHAR(1)        NOT NULL COMMENT '触发条件 立即 1 止损 2 止赢 3 预埋单 4 最新价大于条件价 5 最新价大于等于条件价 6 最新价小于条件价 7 最新价小于等于条件价 8 卖一价大于条件价 9 卖一价大于等于条件价 A 卖一价小于条件价 B 卖一价小于等于条件价 C 买一价大于条件价 D 买一价大于等于条件价 E 买一价小于条件价 F 买一价小于等于条件价 H',
    `LimitPrice`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '价格',
    `StopPrice`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '止损价',
    `VolumeTotalOriginal` BIGINT(16) NOT NULL DEFAULT '0' COMMENT '委托数量',
    `ForceCloseReason`    CHAR(1)        NOT NULL COMMENT '强平原因 非强平 0 资金不足 1 客户超仓 2 会员超仓 3 持仓非整数倍 4 违规 5 其它 6 自然人临近交割 7',
    `OrderLocalID`        VARCHAR(32)    NOT NULL COMMENT '报单本地代码',
    `OrderSysID`          VARCHAR(32)    NOT NULL COMMENT '报单系统代码',
    `OrderRef`            VARCHAR(32)    NOT NULL COMMENT '报单引用',
    `OrderStatus`         CHAR(1)        NOT NULL COMMENT '报单状态',
    `OrderSource`         CHAR(1)        NOT NULL COMMENT '报单来源 来自参与者 0 来自管理员 1',
    `OrderType`           CHAR(1)        NOT NULL COMMENT '报单类型 正常 0 报价衍生 1 组合衍生 2 组合报单 3 条件单 4 互换单 5 大宗交易成交衍生 6 期转现成交衍生 7',
    `MinVolume`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '最小成交量',
    `VolumeTraded`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `VolumeTotal`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `VolumeMultiple`      INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `RequestID`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '请求编号',
    `GTDDate`             VARCHAR(8) NULL COMMENT 'GTD日期',
    `InsertDate`          VARCHAR(8)     NOT NULL COMMENT '报单日期',
    `InsertTime`          VARCHAR(8)     NOT NULL COMMENT '报单时间',
    `UpdateTime`          VARCHAR(8) NULL COMMENT '更新时间',
    `CancelTime`          VARCHAR(8) NULL COMMENT '撤单时间',
    `TradeAmount`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交金额',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `ExchangeID`, `InstrumentID`, `OrderLocalID`, `OrderSysID`)
) COMMENT='期货回测报单信息';
```

|         表字段         |  表字段说明   | 默认值 |        字段名称         |  字段说明   |                                                                                                字段取值范围                                                                                                |
|:-------------------:|:--------:|:---:|:-------------------:|:-------:|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|      HistoryNo      |   回测ID   |     |                     |         |                                                                                                                                                                                                      |
|     TradingDay      |   交易日    |     |     TradingDay      |   交易日   |                                                                                                                                                                                                      |
|      BrokerID       |   会员代码   |     |      BrokerID       | 经纪公司代码  |                                                                                                                                                                                                      |
|     InvestorID      |  投资者代码   |     |     InvestorID      |  投资者代码  |                                                                                                                                                                                                      |
|      AccountID      |   资金账号   |     |      AccountID      |  资金账号   |                                                                                                                                                                                                      |
|     CurrencyID      |   币种代码   |     |     CurrencyID      |  币种代码   |                                                                                                                                                                                                      |
|     ExchangeID      |  交易所代码   |     |     ExchangeID      |  交易所代码  |                                                                                     CFFEX，SHFE，INE，DCE，CZCE，GFEX                                                                                     |
|    InstrumentID     |   合约代码   |     |    InstrumentID     |  合约代码   |                                                                                                                                                                                                      |
|      Direction      |   买卖方向   |     |      Direction      |  买卖方向   |                                                                                             买 ‘0’ 卖 ‘1’                                                                                              |
|     OffsetFlag      |   开平标识   |     |     OffsetFlag      |  开平标志   |                                                                          开仓 '0' 平仓 '1' 强平 '2' 平今 '3' 平昨 '4' 强减 '5' 本地强平 '6'                                                                          |
|      HedgeFlag      |   套保标识   |     |      HedgeFlag      | 投机套保标志  |                                                                               Speculation '1' Arbitrage '2' Hedge '3'                                                                                |
|   OrderPriceType    |  报单价格类型  |     |   OrderPriceType    | 报单价格条件  |                                                                   任意价 '1' 限价 '2' 最优价 '3' 最新价 '4' 卖一价 '8' 卖一价 '8' 买一价 ' C' 五档价 ' G'                                                                   |
|    TimeCondition    | 报单有效期类型  |     |    TimeCondition    |  有效期类型  |                                                                   立即完成，否则撤销 '1' 本节有效 '2' 当日有效 '3' 指定日期前有效 '4' 撤销前有效 '5' 集合竞价有效 '6'                                                                   |
|   VolumeCondition   | 报单成交数量类型 |     |   VolumeCondition   |  成交量类型  |                                                                                      任何数量 '1' 最小数量 '2' 全部数量 '3'                                                                                      |
| ContingentCondition |   触发条件   |     | ContingentCondition |  触发条件   | 立即 '1' 止损 '2' 止赢 '3' 预埋单 '4' 最新价大于条件价 '5' 最新价大于等于条件价 '6' 最新价小于条件价 '7' 最新价小于等于条件价 '8' 卖一价大于条件价 '9' 卖一价大于等于条件价 'A' 卖一价小于条件价 'B' 卖一价小于等于条件价 'C' 买一价大于条件价 'D' 买一价大于等于条件价 'E' 买一价小于条件价 'F' 买一价小于等于条件价 'H' |
|     LimitPrice      |    价格    |  0  |     LimitPrice      |  委托价格   |                                                                                                                                                                                                      |
|      StopPrice      |   止损价    |  0  |      StopPrice      |   止损价   |                                                                                                                                                                                                      |
| VolumeTotalOriginal |   委托数量   |     | VolumeTotalOriginal |  委托数量   |                                                                                                                                                                                                      |
|  ForceCloseReason   |   强平原因   |     |  ForceCloseReason   |  强平原因   |                                                               非强平 '0' 资金不足 '1' 客户超仓 '2' 会员超仓 '3' 持仓非整数倍 '4' 违规 '5' 其它 '6' 自然人临近交割 '7'                                                                |
|    OrderLocalID     |  报单本地代码  |     |    OrderLocalID     | 本地报单编号  |                                                                                                                                                                                                      |
|     OrderSysID      |  报单系统代码  |     |     OrderSysID      |  报单编号   |                                                                                                                                                                                                      |
|      OrderRef       |   报单引用   |     |      OrderRef       |  报单引用   |                                                                                                                                                                                                      |
|     OrderStatus     |   报单状态   |     |     OrderStatus     |  报单状态   |                                                                                  全部成交 '0' 部分成交 '1' 未成交 ' 3' 撤单 '5'                                                                                   |
|     OrderSource     |   报单来源   |     |     OrderSource     |  报单来源   |                                                                                         来自参与者 '0' 来自管理员 '1'                                                                                          |
|      OrderType      |   报单类型   |     |      OrderType      |  报单类型   |                                                              正常 '0' 报价衍生 '1' 组合衍生 '2' 组合报单 '3' 条件单 '4' 互换单 '5' 大宗交易成交衍生 '6' 期转现成交衍生 '7'                                                              |
|      MinVolume      |  最小成交量   |  0  |      MinVolume      |  最小成交量  |                                                                                                                                                                                                      |
|    VolumeTraded     |   成交数量   |  0  |    VolumeTraded     |  成交数量   |                                                                                                                                                                                                      |
|     VolumeTotal     |   剩余数量   |  0  |     VolumeTotal     |  剩余数量   |                                                                                                                                                                                                      |
|   VolumeMultiple    |   标的乘数   |  1  |    VolumeMutiple    |  合约乘数   |                                                                                                                                                                                                      |
|      RequestID      |   请求编号   |  0  |      RequestID      |  请求编号   |                                                                                                                                                                                                      |
|       GTDDate       |  GTD日期   |     |       GTDDate       | GTD 日期  |                                                                                                                                                                                                      |
|     InsertDate      |   报单日期   |     |     InsertDate      |  报单日期   |                                                                                                                                                                                                      |
|     InsertTime      |   报单时间   |     |     InsertTime      |  委托时间   |                                                                                                                                                                                                      |
|     UpdateTime      |   更新时间   |     |     UpdateTime      | 最后修改时间  |                                                                                                                                                                                                      |
|     CancelTime      |   撤单时间   |     |     CancelTime      |  撤销时间   |                                                                                                                                                                                                      |
|     TradeAmount     |   成交金额   |  0  |     TradeAmount     | 报单的成交金额 |                                                                                                                                                                                                      |

## 期货回测持仓信息

对应表名：t_Future_SimTestPosition

对应 csv 文件名：SimTestFuturePosition.csv(期货综合持仓文件)

```sql

CREATE TABLE quant.`t_Future_SimTestPosition`
(
    `HistoryNo`          BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`         VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`           VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`         VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `InvestUnitID`       VARCHAR(20) NULL COMMENT '投资单位代码',
    `ExchangeID`         VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`       VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `PosiDirection`      CHAR(1)        NOT NULL COMMENT '持仓方向',
    `HedgeFlag`          CHAR(1)        NOT NULL COMMENT '套保标识',
    `PositionDate`       CHAR(1)        NOT NULL COMMENT '持仓日期',
    `YdPosition`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '昨持仓数量',
    `Position`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '持仓数量',
    `OpenVolume`         BIGINT(16) NOT NULL DEFAULT '0' COMMENT '开仓数量',
    `CloseVolume`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT '平仓数量',
    `VolumeMultiple`     INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OpenAmount`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓金额',
    `CloseAmount`        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓金额',
    `ClosePrice`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '合约收盘价',
    `PositionCost`       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓成本',
    `PreMargin`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '昨保证金',
    `UseMargin`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保证金',
    `CashIn`             DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '资金差额',
    `Commission`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易费用',
    `CloseProfit`        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓收益',
    `PositionProfit`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓收益',
    `PreSettlementPrice` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '昨结算价格',
    `SettlementPrice`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '结算价格',
    `SettlementID`       BIGINT(16) NOT NULL DEFAULT '0' COMMENT '结算编号',
    `OpenCost`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓成本',
    `ExchangeMargin`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易所保证金',
    `CombPosition`       BIGINT(16) NOT NULL DEFAULT '0' COMMENT '组合成交形成的持仓',
    `CloseProfitByDate`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐日盯市平仓盈亏',
    `CloseProfitByTrade` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐笔对冲平仓收益',
    `TodayPosition`      BIGINT(16) NOT NULL DEFAULT '0' COMMENT '今日持仓',
    `MarginRateByMoney`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保证金率',
    `MarginRateByVolume` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '按手保证金率',
    `PositionCostOffset` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓成本差值',
    `TasPosition`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT 'tas持仓手数',
    `TasPositionCost`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT 'tas持仓成本',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `BrokerID`, `InvestorID`, `ExchangeID`, `InstrumentID`, `PosiDirection`)
) COMMENT='期货回测持仓信息';
```

|        表字段         |   表字段说明   | 默认值 |        字段名称        |   字段说明    |                 字段取值范围                  |
|:------------------:|:---------:|:---:|:------------------:|:---------:|:---------------------------------------:|
|     HistoryNo      |           |     |                    |           |                                         |
|     TradingDay     |    交易日    |     |     TradingDay     |    交易日    |                                         |
|      BrokerID      |   会员代码    |     |      BrokerID      |  经纪公司代码   |                                         |
|     InvestorID     |   投资者代码   |     |     InvestorID     |   投资者代码   |                                         |
|    InvestUnitID    |  投资单位代码   |     |    InvestUnitID    |  投资单位代码   |                                         |
|     ExchangeID     |   交易所代码   |     |     ExchangeID     |   交易所代码   |      CFFEX，SHFE，INE，DCE，CZCE，GFEX       |
|    InstrumentID    |   合约代码    |     |    InstrumentID    |   合约代码    |                                         |
|   PosiDirection    |   持仓方向    |     |   PosiDirection    |  持仓多空方向   |              多头 ‘2’ 空头 ‘3’              |
|     HedgeFlag      |   套保标识    |     |     HedgeFlag      |  投机套保标志   | Speculation '1' Arbitrage '2' Hedge '3' |
|    PositionDate    |   持仓日期    |     |    PositionDate    |   持仓日期    |            今日持仓：‘1’ 历史持仓：‘2’            |
|     YdPosition     |   昨持仓数量   |  0  |     YdPosition     |   上日持仓    |                                         |
|      Position      |   持仓数量    |  0  |      Position      |   今日持仓    |                                         |
|     OpenVolume     |   开仓数量    |  0  |     OpenVolume     |    开仓量    |                                         |
|    CloseVolume     |   平仓数量    |  0  |    CloseVolume     |    平仓量    |                                         |
|   VolumeMultiple   |   标的乘数    |  1  |   VolumeMutiple    |   合约乘数    |                                         |
|     OpenAmount     |   开仓金额    |  0  |     OpenAmount     |   开仓金额    |                                         |
|    CloseAmount     |   平仓金额    |  0  |    CloseAmount     |   平仓金额    |                                         |
|     ClosePrice     |   合约收盘价   |  0  |                    |           |                                         |
|    PositionCost    |   持仓成本    |  0  |    PositionCost    |   持仓成本    |                                         |
|     PreMargin      |   昨保证金    |  0  |     PreMargin      | 上次占用的保证金  |                                         |
|        资金差额        |    保证金    |  0  |     UseMargin      |  占用的保证金   |                                         |
|       CashIn       |   资金差额    |  0  |       CashIn       |   资金差额    |                                         |
|     Commission     |   交易费用    |  0  |     Commission     |    手续费    |                                         |
|    CloseProfit     |   平仓收益    |  0  |    CloseProfit     |   平仓盈亏    |                                         |
|   PositionProfit   |   持仓收益    |  0  |   PositionProfit   |   持仓盈亏    |                                         |
| PreSettlementPrice |   昨结算价格   |  0  | PreSettlementPrice |   上次结算价   |                                         |
|  SettlementPrice   |   结算价格    |  0  |  SettlementPrice   |   本次结算价   |                                         |
|    SettlementID    |   结算编号    |  0  |    SettlementID    |   结算编号    |                                         |
|      OpenCost      |   开仓成本    |  0  |      OpenCost      |   开仓成本    |                                         |
|   ExchangeMargin   |  交易所保证金   |  0  |   ExchangeMargin   |  交易所保证金   |                                         |
|    CombPosition    | 组合成交形成的持仓 |  0  |    CombPosition    | 组合成交形成的持仓 |                                         |
| CloseProfitByDate  | 逐日盯市平仓盈亏  |  0  | CloseProfitByDate  | 逐日盯市平仓盈亏  |                                         |
| CloseProfitByTrade | 逐笔对冲平仓收益  |  0  | CloseProfitByTrade | 逐笔对冲平仓盈亏  |                                         |
|   TodayPosition    |   今日持仓    |  0  |   TodayPosition    |   今日持仓    |                                         |
| MarginRateByMoney  |   保证金率    |  0  | MarginRateByMoney  |   保证金率    |                                         |
| MarginRateByVolume |  按手保证金率   |  0  | MarginRateByVolume | 保证金率(按手数) |                                         |
| PositionCostOffset |  持仓成本差值   |  0  | PositionCostOffset |  持仓成本差值   |                                         |
|    TasPosition     |  tas持仓手数  |  0  |    TasPosition     | tas 持仓手数  |                                         |
|  TasPositionCost   |  tas持仓成本  |  0  |  TasPositionCost   | tas 持仓成本  |                                         |

## 期货回测持仓明细信息

对应表名：t_Future_SimTestPositionDetail

对应 csv 文件名：SimTestFuturePositionDetail.csv(期货持仓明细文件)

```sql
CREATE TABLE quant.`t_Future_SimTestPositionDetail`
(
    `HistoryNo`             BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`            VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`              VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `InvestorID`            VARCHAR(20)    NOT NULL COMMENT '投资者代码',
    `InvestUnitID`          VARCHAR(20) NULL COMMENT '投资单位代码',
    `ExchangeID`            VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`          VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `Direction`             CHAR(1)        NOT NULL COMMENT '买卖方向',
    `HedgeFlag`             CHAR(1)        NOT NULL COMMENT '套保标识',
    `OpenDate`              VARCHAR(8)     NOT NULL COMMENT '开仓日期',
    `TradeID`               VARCHAR(32)    NOT NULL COMMENT '成交ID',
    `Volume`                BIGINT(16) NOT NULL DEFAULT '0' COMMENT '数量',
    `VolumeMultiple`        INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OpenPrice`             DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '开仓价格',
    `SettlementID`          BIGINT(16) NOT NULL DEFAULT '0' COMMENT '结算编号',
    `CloseProfitByDate`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐日盯市平仓盈亏',
    `CloseProfitByTrade`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐笔对冲平仓收益',
    `PositionProfitByDate`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐日盯市持仓盈亏',
    `PositionProfitByTrade` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '逐笔对冲持仓盈亏',
    `Margin`                DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '投资者保证金',
    `ExchMargin`            DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易所保证金',
    `MarginRateByMoney`     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保证金率',
    `MarginRateByVolume`    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '按手保证金率',
    `LastSettlementPrice`   DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '昨结算价格',
    `SettlementPrice`       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '结算价格',
    `CloseVolume`           BIGINT(16) NOT NULL DEFAULT '0' COMMENT '平仓数量',
    `CloseAmount`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓金额',
    `TimeFirstVolume`       BIGINT(16) NOT NULL DEFAULT '0' COMMENT '先开先平剩余数量',
    `SpecPosiType`          CHAR(1)        NOT NULL COMMENT '特殊持仓标志 普通持仓明细 # TAS合约成交产生的标的合约持仓明细 0',
    `CombInstrumentID`      VARCHAR(32) NULL COMMENT '组合合约代码',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `BrokerID`, `InvestorID`, `ExchangeID`, `InstrumentID`, `Direction`,
                 `OpenDate`, `TradeID`)
) COMMENT='期货回测持仓明细信息'
```

|          表字段          |  表字段说明   | 默认值 |         字段名称          |   字段说明    |                 字段取值范围                  |
|:---------------------:|:--------:|:---:|:---------------------:|:---------:|:---------------------------------------:|
|       HistoryNo       |   回测ID   |     |                       |           |                                         |
|      TradingDay       |   交易日    |     |      TradingDay       |    交易日    |                                         |
|       BrokerID        |   会员代码   |     |       BrokerID        |  经纪公司代码   |                                         |
|      InvestorID       |  投资者代码   |     |      InvestorID       |   投资者代码   |                                         |
|     InvestUnitID      |  投资单位代码  |     |     InvestUnitID      |  投资单元代码   |                                         |
|      ExchangeID       |  交易所代码   |     |      ExchangeID       |   交易所代码   |      CFFEX，SHFE，INE，DCE，CZCE，GFEX       |
|     InstrumentID      |   合约代码   |     |     InstrumentID      |   合约代码    |                                         |
|       Direction       |   买卖方向   |     |       Direction       |   买卖方向    |               买 ‘0’ 卖 ‘1’               |
|       HedgeFlag       |   套保标识   |     |       HedgeFlag       |  投机套保标志   | Speculation '1' Arbitrage '2' Hedge '3' |
|       OpenDate        |   开仓日期   |     |       OpenDate        |   开仓日期    |                                         |
|        TradeID        |   成交ID   |     |        TradeID        |   成交编号    |                                         |
|        Volume         |    数量    |  0  |        Volume         |    数量     |                                         |
|    VolumeMultiple     |   标的乘数   |  1  |     VolumeMutiple     |   合约乘数    |                                         |
|       OpenPrice       |   开仓价格   |  0  |       OpenPrice       |   开仓价格    |                                         |
|     SettlementID      |   结算编号   |  0  |     SettlementID      |   结算编号    |                                         |
|   CloseProfitByDate   | 逐日盯市平仓盈亏 |  0  |   CloseProfitByDate   | 逐日盯市平仓盈亏  |                                         |
|  CloseProfitByTrade   | 逐笔对冲平仓收益 |  0  |  CloseProfitByTrade   | 逐笔对冲平仓盈亏  |                                         |
| PositionProfitByDate  | 逐日盯市持仓盈亏 |  0  | PositionProfitByDate  | 逐日盯市持仓盈亏  |                                         |
| PositionProfitByTrade | 逐笔对冲持仓盈亏 |  0  | PositionProfitByTrade | 逐笔对冲持仓盈亏  |                                         |
|        Margin         |  投资者保证金  |  0  |        Margin         |  投资者保证金   |                                         |
|      ExchMargin       |  交易所保证金  |  0  |      ExchMargin       |  交易所保证金   |                                         |
|   MarginRateByMoney   |   保证金率   |  0  |   MarginRateByMoney   |   保证金率    |                                         |
|  MarginRateByVolume   |  按手保证金率  |  0  |  MarginRateByVolume   | 保证金率(按手数) |                                         |
|  LastSettlementPrice  |  昨结算价格   |  0  |  LastSettlementPrice  |   昨结算价    |                                         |
|    SettlementPrice    |   结算价格   |  0  |    SettlementPrice    |    结算价    |                                         |
|      CloseVolume      |   平仓数量   |  0  |      CloseVolume      |    平仓量    |                                         |
|      CloseAmount      |   平仓金额   |  0  |      CloseAmount      |   平仓金额    |                                         |
|    TimeFirstVolume    | 先开先平剩余数量 |  0  |    TimeFirstVolume    | 先开先平剩余数量  |                                         |
|     SpecPosiType      |  特殊持仓标志  |     |     SpecPosiType      |  特殊持仓标志   |   普通持仓明细 '#' TAS 合约成交产生的标的合约持仓明细 '0'    |
|   CombInstrumentID    |  组合合约代码  |     |   CombInstrumentID    |  组合合约代码   |                                         |

## 期货回测行情订阅信息

对应表名：t_Future_SimTestSubMD

对应 csv 文件名：SimTestSubMD.csv(行情订阅明细文件)

```sql
CREATE TABLE quant.`t_Future_SimTestSubMD`
(
    `HistoryNo`      BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`     VARCHAR(8)  NOT NULL COMMENT '交易日',
    `ExchangeID`     VARCHAR(8)  NOT NULL COMMENT '交易所代码',
    `InstrumentID`   VARCHAR(32) NOT NULL COMMENT '合约代码',
    `InstrumentType` CHAR(1)     NOT NULL COMMENT '合约类型',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `ExchangeID`, `InstrumentID`)
) COMMENT='期货回测行情订阅信息';
```

|     表字段名称      | 表字段说明 |      字段名称      | 字段说明  |            字段取值范围            |
|:--------------:|:-----:|:--------------:|:-----:|:----------------------------:|
|   HistoryNo    | 回测ID  |                |       |                              |
|   TradingDay   |  交易日  |   TradingDay   |  交易日  |                              |
|   ExchangeID   | 交易所代码 |   ExchangeID   | 交易所代码 | CFFEX，SHFE，INE，DCE，CZCE，GFEX |
|  InstrumentID  | 合约代码  |  InstrumentID  | 合约代码  |                              |
| InstrumentType | 合约类型  | InstrumentType | 合约类型  |       期货 ：’1’ 期权 : ‘2’       |
|                |       | VolumeMutiple  | 合约乘数  |                              |

## 期货回测账户信息

对应表名：t_Future_SimTestTradingAccount

对应 csv 文件名：SimTestTradingAccount.csv(资金账户明细文件)

```sql
CREATE TABLE quant.`t_Future_SimTestTradingAccount`
(
    `HistoryNo`                      BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`                     VARCHAR(8)     NOT NULL COMMENT '交易日',
    `BrokerID`                       VARCHAR(8)     NOT NULL COMMENT '会员代码',
    `AccountID`                      VARCHAR(20)    NOT NULL COMMENT '资金账号',
    `CurrencyID`                     VARCHAR(20)    NOT NULL COMMENT '币种代码',
    `BizType`                        CHAR(1)        NOT NULL COMMENT '业务类型 期货：1 证券：2',
    `PreMortgage`                    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次质押金额',
    `PreCredit`                      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次信用额度',
    `PreDeposit`                     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次存款额',
    `PreBalance`                     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次结算准备金',
    `PreMargin`                      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次占用的保证金',
    `InterestBase`                   DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '利息基数',
    `Interest`                       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '利息收入',
    `Deposit`                        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '入金金额',
    `Withdraw`                       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '出金金额',
    `CurrMargin`                     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '当前保证金总额',
    `CashIn`                         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '资金差额',
    `Commission`                     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '手续费',
    `CloseProfit`                    DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '平仓盈亏',
    `PositionProfit`                 DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '持仓盈亏',
    `Balance`                        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '期货结算准备金',
    `Available`                      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '可用资金',
    `WithdrawQuota`                  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '可取资金',
    `Reserve`                        DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '基本准备金',
    `Credit`                         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '信用额度',
    `Mortgage`                       DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '质押金额',
    `ExchangeMargin`                 DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易所保证金',
    `DeliveryMargin`                 DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '投资者交割保证金',
    `ExchangeDeliveryMargin`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易所交割保证金',
    `ReserveBalance`                 DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '保底期货结算准备',
    `PreFundMortgageIn`              DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次货币质入金额',
    `PreFundMortgageOut`             DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '上次货币质出金额',
    `FundMortgageIn`                 DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '货币质入金额',
    `FundMortgageOut`                DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '货币质出金额',
    `FundMortgageAvailable`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '货币质押余额',
    `MortgageableFund`               DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '可质押货币金额',
    `SpecProductMargin`              DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '特殊产品占用保证金',
    `SpecProductCommission`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '特殊产品手续费',
    `SpecProductPositionProfit`      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '特殊产品持仓盈亏',
    `SpecProductCloseProfit`         DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '特殊产品平仓盈亏',
    `SpecProductPositionProfitByAlg` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '根据持仓盈亏算法计算的特殊产品持仓盈亏',
    `SpecProductExchangeMargin`      DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '特殊产品交易所保证金',
    `FrozenSwap`                     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '延时换汇冻结金额',
    `RemainSwap`                     DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '剩余换汇额度',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `BrokerID`, `AccountID`, `CurrencyID`)
) COMMENT='期货回测账户信息';
```

|             表字段名称              |        表字段说明        | 默认值 |              字段名称              |        字段说明         |    字段取值范围     |
|:------------------------------:|:-------------------:|:---:|:------------------------------:|:-------------------:|:-------------:|
|           HistoryNo            |        回测ID         |     |                                |                     |               |
|           TradingDay           |         交易日         |     |           TradingDay           |         交易日         |               |
|            BrokerID            |        会员代码         |     |            BrokerID            |       经纪公司代码        |               |
|           AccountID            |        资金账号         |     |           AccountID            |        投资者帐号        |               |
|           CurrencyID           |        币种代码         |     |           CurrencyID           |        币种代码         |               |
|            BizType             |        业务类型         |     |            BizType             |        业务类型         | 期货：‘1’ 证券：‘2’ |
|          PreMortgage           |       上次质押金额        |  0  |          PreMortgage           |       上次质押金额        |               |
|           PreCredit            |       上次质押金额        |  0  |           PreCredit            |       上次信用额度        |               |
|           PreDeposit           |        上次存款额        |  0  |           PreDeposit           |        上次存款额        |               |
|           PreBalance           |       上次结算准备金       |  0  |           PreBalance           |       上次结算准备金       |               |
|           PreMargin            |      上次占用的保证金       |  0  |           PreMargin            |      上次占用的保证金       |               |
|          InterestBase          |        利息基数         |  0  |          InterestBase          |        利息基数         |               |
|            Interest            |        利息收入         |  0  |            Interest            |        利息收入         |               |
|            Deposit             |        入金金额         |  0  |            Deposit             |        入金金额         |               |
|            Withdraw            |        出金金额         |  0  |            Withdraw            |        出金金额         |               |
|           CurrMargin           |       当前保证金总额       |  0  |           CurrMargin           |       当前保证金总额       |               |
|             CashIn             |        资金差额         |  0  |             CashIn             |        资金差额         |               |
|           Commission           |         手续费         |  0  |           Commission           |         手续费         |               |
|          CloseProfit           |        平仓盈亏         |  0  |          CloseProfit           |        平仓盈亏         |               |
|         PositionProfit         |        持仓盈亏         |  0  |         PositionProfit         |        持仓盈亏         |               |
|            Balance             |       期货结算准备金       |  0  |            Balance             |       期货结算准备金       |               |
|           Available            |        可用资金         |  0  |           Available            |        可用资金         |               |
|         WithdrawQuota          |        可取资金         |  0  |         WithdrawQuota          |        可取资金         |               |
|            Reserve             |        基本准备金        |  0  |            Reserve             |        基本准备金        |               |
|             Credit             |        信用额度         |  0  |             Credit             |        信用额度         |               |
|            Mortgage            |        质押金额         |  0  |            Mortgage            |        质押金额         |               |
|         ExchangeMargin         |       交易所保证金        |  0  |         ExchangeMargin         |       交易所保证金        |               |
|         DeliveryMargin         |      投资者交割保证金       |  0  |         DeliveryMargin         |      投资者交割保证金       |               |
|     ExchangeDeliveryMargin     |      交易所交割保证金       |  0  |     ExchangeDeliveryMargin     |      交易所交割保证金       |               |
|         ReserveBalance         |      保底期货结算准备       |  0  |         ReserveBalance         |      保底期货结算准备金      |               |
|       PreFundMortgageIn        |      上次货币质入金额       |  0  |       PreFundMortgageIn        |      上次货币质入金额       |               |
|       PreFundMortgageOut       |      上次货币质出金额       |  0  |       PreFundMortgageOut       |      上次货币质出金额       |               |
|         FundMortgageIn         |       货币质入金额        |  0  |         FundMortgageIn         |       货币质入金额        |               |
|        FundMortgageOut         |       货币质出金额        |  0  |        FundMortgageOut         |       货币质出金额        |               |
|     FundMortgageAvailable      |       货币质押余额        |  0  |     FundMortgageAvailable      |       货币质押余额        |               |
|        MortgageableFund        |       可质押货币金额       |  0  |        MortgageableFund        |       可质押货币金额       |               |
|       SpecProductMargin        |      特殊产品占用保证金      |  0  |       SpecProductMargin        |      特殊产品占用保证金      |               |
|     SpecProductCommission      |       特殊产品手续费       |  0  |     SpecProductCommission      |       特殊产品手续费       |               |
|   SpecProductPositionProfit    |      特殊产品持仓盈亏       |  0  |   SpecProductPositionProfit    |      特殊产品持仓盈亏       |               |
|     SpecProductCloseProfit     |      特殊产品平仓盈亏       |  0  |     SpecProductCloseProfit     |      特殊产品平仓盈亏       |               |
| SpecProductPositionProfitByAlg | 根据持仓盈亏算法计算的特殊产品持仓盈亏 |  0  | SpecProductPositionProfitByAlg | 根据持仓盈亏算法计算的特殊产品持仓盈亏 |               |
|   SpecProductExchangeMargin    |     特殊产品交易所保证金      |  0  |   SpecProductExchangeMargin    |     特殊产品交易所保证金      |               |
|           FrozenSwap           |      延时换汇冻结金额       |  0  |           FrozenSwap           |      延时换汇冻结金额       |               |
|           RemainSwap           |       剩余换汇额度        |  0  |           RemainSwap           |       剩余换汇额度        |               |

# 数据格式转化落库

## 期货回测报单信息

对应表名：t_Future_QuantOrder

```sql
CREATE TABLE quant.`t_Future_QuantOrder`
(
    `HistoryNo`           BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`          VARCHAR(8)     NOT NULL COMMENT '交易日',
    `ExchangeID`          VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`        VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `InstrumentName`      VARCHAR(128) NULL COMMENT '合约名称',
    `FullInstrumentID`    VARCHAR(32)    NOT NULL COMMENT 'Full合约代码',
    `SpecInstrumentID`    VARCHAR(32)    NOT NULL COMMENT '标准合约代码',
    `Direction`           CHAR(1)        NOT NULL COMMENT '方向 买 0 卖 1',
    `OffsetFlag`          CHAR(1)        NOT NULL COMMENT '开平标识 开仓 0 平仓 1 强平 2 平今 3 平昨 4 强减 5 本地强平 6',
    `HedgeFlag`           CHAR(1)        NOT NULL COMMENT '套保标识 Speculation 1 Arbitrage 2 Hedge 3',
    `OrderPriceType`      CHAR(1)        NOT NULL COMMENT '报单价格类型 任意价 1 限价 2 最优价 3 最新价 4 卖一价 8 买一价  C 五档价  G',
    `TimeCondition`       CHAR(1)        NOT NULL COMMENT '报单有效期类型 立即完成，否则撤销  1 本节有效  2 当日有效  3 指定日期前有效  4 撤销前有效  5 集合竞价有效  6',
    `VolumeCondition`     CHAR(1)        NOT NULL COMMENT '报单成交数量类型 任何数量 1 最小数量 2 全部数量 3',
    `ContingentCondition` CHAR(1)        NOT NULL COMMENT '触发条件 立即 1 止损 2 止赢 3 预埋单 4 最新价大于条件价 5 最新价大于等于条件价 6 最新价小于条件价 7 最新价小于等于条件价 8 卖一价大于条件价 9 卖一价大于等于条件价 A 卖一价小于条件价 B 卖一价小于等于条件价 C 买一价大于条件价 D 买一价大于等于条件价 E 买一价小于条件价 F 买一价小于等于条件价 H',
    `SimOrderType`        CHAR(1) NULL COMMENT '报单类型',
    `LimitPrice`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '价格',
    `Volume`              BIGINT(16) NOT NULL DEFAULT '0' COMMENT '数量',
    `VolumeMultiple`      INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OrderLocalID`        VARCHAR(32)    NOT NULL COMMENT '报单本地代码',
    `OrderSysID`          VARCHAR(32)    NOT NULL COMMENT '报单系统代码',
    `OrderStatus`         CHAR(1)        NOT NULL COMMENT '报单状态',
    `VolumeTraded`        BIGINT(16) NOT NULL DEFAULT '0' COMMENT '成交数量',
    `InsertTime`          VARCHAR(8)     NOT NULL COMMENT '报单时间',
    `InsertMillisec`      INTEGER(3) NOT NULL COMMENT '报单时间毫秒',
    `CancelTime`          VARCHAR(8) NULL COMMENT '撤单时间',
    `Turnover`            DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交金额',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `ExchangeID`, `InstrumentID`, `FullInstrumentID`, `SpecInstrumentID`,
                 `OrderLocalID`, `OrderSysID`)
) COMMENT='期货回测报单信息';
```

```sql
INSERT INTO quant.t_Future_QuantOrder(HistoryNo, TradingDay, ExchangeID, InstrumentID, InstrumentName, FullInstrumentID,
                                      SpecInstrumentID, Direction, OffsetFlag, HedgeFlag, OrderPriceType, TimeCondition,
                                      VolumeCondition, ContingentCondition, SimOrderType, LimitPrice, Volume,
                                      VolumeMultiple, OrderLocalID, OrderSysID, OrderStatus, VolumeTraded, InsertTime,
                                      InsertMillisec, CancelTime, Turnover)
SELECT #{history_no}                             AS HistoryNo,
       t.TradingDay,
       t.ExchangeID,
       t.InstrumentID,
       IFNULL(t1.InstrumentName, '')             AS InstrumentName,
       CONCAT(t.InstrumentID, '.', t.ExchangeID) AS FullInstrumentID,
       CONCAT(t.InstrumentID, '.', t.ExchangeID) AS SpecInstrumentID,
       t.Direction,
       t.OffsetFlag,
       t.HedgeFlag,
       t.OrderPriceType,
       t.TimeCondition,
       t.VolumeCondition,
       t.ContingentCondition,
       NULL                                      AS SimOrderType,
       t.LimitPrice,
       t.VolumeTotalOriginal                     AS Volume,
       t.VolumeMultiple,
       t.OrderLocalID,
       t.OrderSysID,
       t.OrderStatus,
       t.VolumeTraded,
       t.InsertTime,
       0                                         AS InsertMillisec,
       t.CancelTime,
       t.TradeAmount                             AS Turnover
FROM quant.t_Future_SimTestOrder t
         LEFT JOIN quant.t_future_quantmarketdata t1
                   ON (t.TradingDay = t1.TradingDay And t.ExchangeID = t1.ExchangeID AND
                       t.InstrumentID = t1.InstrumentID)
WHERE t.HistoryNo = #{history_no}
```

|     表字段名称      |    表字段说明    |                表字段来源                 |                        表字段取值范围                        |
| :-----------------: | :--------------: | :---------------------------------------: | :----------------------------------------------------------: |
|      HistoryNo      |      回测ID      |                                           |                                                              |
|     TradingDay      |      交易日      |               t.TradingDay                |                                                              |
|     ExchangeID      |    交易所代码    |               t.ExchangeID                |                                                              |
|    InstrumentID     |     合约代码     |              t.InstrumentID               |                                                              |
|   InstrumentName    |     合约名称     |       IFNULL(t1.InstrumentName, '')       |                                                              |
|  FullInstrumentID   |   Full合约代码   | CONCAT(t.InstrumentID, '.', t.ExchangeID) |                                                              |
|  SpecInstrumentID   |   标准合约代码   | CONCAT(t.InstrumentID, '.', t.ExchangeID) |                                                              |
|      Direction      |       方向       |                t.Direction                |                          买 0 卖 1                           |
|     OffsetFlag      |     开平标识     |               t.OffsetFlag                |     开仓 0 平仓 1 强平 2 平今 3 平昨 4 强减 5 本地强平 6     |
|      HedgeFlag      |     套保标识     |                t.HedgeFlag                |              Speculation 1 Arbitrage 2 Hedge 3               |
|   OrderPriceType    |   报单价格类型   |             t.OrderPriceType              | 任意价 1 限价 2 最优价 3 最新价 4 卖一价 8 买一价  C 五档价  G |
|    TimeCondition    |  报单有效期类型  |              t.TimeCondition              | 立即完成，否则撤销  1 本节有效  2 当日有效  3 指定日期前有效  4 撤销前有效  5 集合竞价有效  6 |
|   VolumeCondition   | 报单成交数量类型 |             t.VolumeCondition             |               任何数量 1 最小数量 2 全部数量 3               |
| ContingentCondition |     触发条件     |           t.ContingentCondition           | 立即 1 止损 2 止赢 3 预埋单 4 最新价大于条件价 5 最新价大于等于条件价 6 最新价小于条件价 7 最新价小于等于条件价 8 卖一价大于条件价 9 卖一价大于等于条件价 A 卖一价小于条件价 B 卖一价小于等于条件价 C 买一价大于条件价 D 买一价大于等于条件价 E 买一价小于条件价 F 买一价小于等于条件价 H |
|    SimOrderType     |     报单类型     |                   NULL                    |                                                              |
|     LimitPrice      |       价格       |               t.LimitPrice                |                                                              |
|       Volume        |       数量       |           t.VolumeTotalOriginal           |                                                              |
|   VolumeMultiple    |     标的乘数     |             t.VolumeMultiple              |                                                              |
|    OrderLocalID     |   报单本地代码   |              t.OrderLocalID               |                                                              |
|     OrderSysID      |   报单系统代码   |               t.OrderSysID                |                                                              |
|     OrderStatus     |     报单状态     |               t.OrderStatus               |                                                              |
|    VolumeTraded     |     成交数量     |              t.VolumeTraded               |                                                              |
|     InsertTime      |     报单时间     |               t.InsertTime                |                                                              |
|   InsertMillisec    |   报单时间毫秒   |                     0                     |                                                              |
|     CancelTime      |     撤单时间     |               t.CancelTime                |                                                              |
|      Turnover       |     成交金额     |               t.TradeAmount               |                                                              |

## 期货回测成交信息

对应表名：t_Future_QuantTrade

```sql
CREATE TABLE quant.`t_Future_QuantTrade`
(
    `HistoryNo`              BIGINT(10) NOT NULL COMMENT '回测ID',
    `TradingDay`             VARCHAR(8)     NOT NULL COMMENT '交易日',
    `TradeID`                VARCHAR(32)    NOT NULL COMMENT '成交ID',
    `TradeDate`              VARCHAR(8)     NOT NULL COMMENT '成交日期',
    `TradeTime`              VARCHAR(8)     NOT NULL COMMENT '成交时间',
    `ExchangeID`             VARCHAR(8)     NOT NULL COMMENT '交易所代码',
    `InstrumentID`           VARCHAR(32)    NOT NULL COMMENT '合约代码',
    `InstrumentName`         VARCHAR(128) NULL COMMENT '合约名称',
    `FullInstrumentID`       VARCHAR(32)    NOT NULL COMMENT 'Full合约代码',
    `SpecInstrumentID`       VARCHAR(32)    NOT NULL COMMENT '标准合约代码',
    `Direction`              CHAR(1)        NOT NULL COMMENT '方向',
    `OffsetFlag`             CHAR(1)        NOT NULL COMMENT '开平标识',
    `HedgeFlag`              CHAR(1)        NOT NULL COMMENT '套保标识 Speculation 1 Arbitrage 2 Hedge 3',
    `Price`                  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交价格',
    `Volume`                 BIGINT(16) NOT NULL DEFAULT '0' COMMENT '数量',
    `VolumeMultiple`         INTEGER(6) NOT NULL DEFAULT '1' COMMENT '标的乘数',
    `OrderLocalID`           VARCHAR(32) NULL COMMENT '报单本地代码',
    `OrderSysID`             VARCHAR(32) NULL COMMENT '报单系统代码',
    `TradingAmount`          DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成交金额',
    `TotalPosCost`           DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '成本',
    `TradingFee`             DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易费用',
    `BeforeTradeTodayAmount` DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易前今日资金',
    `AfterTradeTodayAmount`  DECIMAL(26, 7) NOT NULL DEFAULT '0' COMMENT '交易后今日资金',
    PRIMARY KEY (`HistoryNo`, `TradingDay`, `ExchangeID`, `InstrumentID`, `FullInstrumentID`, `SpecInstrumentID`,
                 `TradeID`)
) COMMENT='期货回测成交信息';
```

```sql
INSERT INTO quant.t_Future_QuantTrade(HistoryNo, TradingDay, TradeID, TradeDate, TradeTime, ExchangeID, InstrumentID,
                                      InstrumentName, FullInstrumentID, SpecInstrumentID, Direction, OffsetFlag,
                                      HedgeFlag, Price, Volume, VolumeMultiple, OrderLocalID, OrderSysID, TradingAmount,
                                      TotalPosCost, TradingFee, BeforeTradeTodayAmount, AfterTradeTodayAmount)
SELECT t.HistoryNo,
       t.TradingDay,
       t.TradeID,
       t.TradeDate,
       t.TradeTime,
       t.ExchangeID,
       t.InstrumentID,
       IFNULL(t1.InstrumentName, '')                        AS InstrumentName,
       CONCAT(t.InstrumentID, '.', t.ExchangeID)            AS FullInstrumentID,
       CONCAT(t.InstrumentID, '.', t.ExchangeID)            AS SpecInstrumentID,
       t.Direction,
       t.OffsetFlag,
       t.HedgeFlag,
       t.Price,
       t.Volume,
       t.VolumeMultiple,
       t.OrderLocalID,
       t.OrderSysID,
       t.Price * t.Volume * t.VolumeMultiple                AS TradingAmount,
       t.Price * t.Volume * t.VolumeMultiple + t.Commission AS TotalPosCost,
       t.Commission                                         AS TradingFee,
       0                                                    AS BeforeTradeTodayAmount,
       0                                                    AS AfterTradeTodayAmount
FROM quant.t_Future_SimTestTrade t
         LEFT JOIN quant.t_future_quantmarketdata t1
                   ON (t.TradingDay = t1.TradingDay And t.ExchangeID = t1.ExchangeID AND
                       t.InstrumentID = t1.InstrumentID)
WHERE t.HistoryNo = #{history_no}

根据
```

|       表字段名称       |   表字段说明   |                      表字段来源                      |          表字段取值范围           |
| :--------------------: | :------------: | :--------------------------------------------------: | :-------------------------------: |
|       HistoryNo        |     回测ID     |                     t.HistoryNo                      |                                   |
|       TradingDay       |     交易日     |                     t.TradingDay                     |                                   |
|        TradeID         |     成交ID     |                      t.TradeID                       |                                   |
|       TradeDate        |    成交日期    |                     t.TradeDate                      |                                   |
|       TradeTime        |    成交时间    |                     t.TradeTime                      |                                   |
|       ExchangeID       |   交易所代码   |                     t.ExchangeID                     |                                   |
|      InstrumentID      |    合约代码    |                    t.InstrumentID                    |                                   |
|     InstrumentName     |    合约名称    |            IFNULL(t1.InstrumentName, '')             |                                   |
|    FullInstrumentID    |  Full合约代码  |      CONCAT(t.InstrumentID, '.', t.ExchangeID)       |                                   |
|    SpecInstrumentID    |  标准合约代码  |      CONCAT(t.InstrumentID, '.', t.ExchangeID)       |                                   |
|       Direction        |      方向      |                     t.Direction                      |                                   |
|       OffsetFlag       |    开平标识    |                     t.OffsetFlag                     |                                   |
|       HedgeFlag        |    套保标识    |                     t.HedgeFlag                      | Speculation 1 Arbitrage 2 Hedge 3 |
|         Price          |    成交价格    |                       t.Price                        |                                   |
|         Volume         |      数量      |                       t.Volume                       |                                   |
|     VolumeMultiple     |    标的乘数    |                   t.VolumeMultiple                   |                                   |
|      OrderLocalID      |  报单本地代码  |                    t.OrderLocalID                    |                                   |
|       OrderSysID       |  报单系统代码  |                     t.OrderSysID                     |                                   |
|     TradingAmount      |    成交金额    |        t.Price * t.Volume * t.VolumeMultiple         |                                   |
|      TotalPosCost      |      成本      | t.Price * t.Volume * t.VolumeMultiple + t.Commission |                                   |
|       TradingFee       |    交易费用    |                     t.Commission                     |                                   |
| BeforeTradeTodayAmount | 交易前今日资金 |                          0                           |                                   |
| AfterTradeTodayAmount  | 交易后今日资金 |                          0                           |                                   |

