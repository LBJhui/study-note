# vue

## 启动项目自动在浏览器打开，热更新

![img](https://images2018.cnblogs.com/blog/1407626/201807/1407626-20180705161601762-1753399643.jpg)

## 在 vue 中使用 echarts

安装：`npm install echarts --save`

在 main.js 中引入

```javascript
import echarts from 'echarts'
Vue.use(echarts)
```

## vue 中使用 bootstrap

安装

`npm install --save jquery`

`npm install --save bootstrap@3`：这里我使用的是 bootstrap3

在 main.js 引入

```javascript
import $ from 'jquery'
import 'bootstrap/dist/css/bootstrap.css'
import 'bootstrap/dist/js/bootstrap.js'
```

## vue 单组件中引用 bootstrap

安装

`npm install --save jquery`

`npm install --save bootstrap@3`：这里我使用的是 bootstrap3

`npm install --save popper.js`

在需要的组件中引入

```javascript
import $ from 'jquery'
import 'bootstrap/dist/css/bootstrap.css'
import 'bootstrap/dist/js/bootstrap.js'
```

修改 webpack.base.conf.js

```javascript
const webpack = require("webpack");		//add
resolve: {
    extensions: [".js", ".vue", ".json"],
    alias: {
      vue$: "vue/dist/vue.esm.js",
      "@": resolve("src"),
      jquery: "jquery"		//add
    }
  },
  plugins: [						//add
    new webpack.ProvidePlugin({
      $: "jquery",
      jQuery: "jquery",
      "window.jQuery": "jquery",

      Popper: ["popper.js", , "default"]
    })
  ],

```

## 去除链接中的#

使用 history 模式

在 router 的 index.js 文件中`export default new Router({mode: "history"})`

## Vue router 全局路由守卫

**方法一：定义一个数组用于检测与管理需要登录的页面，全局路由守卫配合本地存储判断是否跳转**

```javascript
import Vue from 'vue'
import Router from 'vue-router'
import store from './../store'

import Home from 'components/home/home' // 主页组件

// 其它组件...

import Cart from 'components/cart/cart' // 购物车组件
import User from 'components/user/user' // 用户中心组件

// 其他组件...

import GoodsDetail from 'components/goods-detail/goods-detail' // 商品详情组件

import { localTake } from 'common/js/localStore' // 本地存储方法封装

Vue.use(Router)

const router = new Router({
  routes: [
    {
      path: '/', // 默认地址
      redirect: '/home',
    },
    {
      path: '/home',
      component: Home,
      name: 'Home',
      meta: {
        title: '主页',
        keepAlive: true, // 需要被缓存
      },
    },
    {
      path: '/cart',
      component: Cart,
      name: 'Cart',
      meta: {
        title: '购物车',
        keepAlive: true, // 需要被缓存
      },
    },
    {
      path: '/user',
      component: User,
      name: 'User',
      meta: {
        title: '我的',
        keepAlive: true, // 需要被缓存
      },
    },
    {
      path: '/user-login',
      component: UserLogIn,
      name: 'UserLogIn',
      meta: {
        title: '登录',
        keepAlive: false, // 不需要被缓存
      },
    },
    {
      path: '/goods-detail',
      component: GoodsDetail,
      name: 'GoodsDetail',
      meta: {
        title: '商品详情',
        keepAlive: true, // 需要被缓存
      },
    },
  ],
  scrollBehavior(to, from, savedPosition) {
    if (savedPosition) {
      return savedPosition
    } else {
      return { x: 0, y: 0 }
    }
  },
})

// 全局路由守卫
router.beforeEach((to, from, next) => {
  const nextRoute = ['User', 'Cart', 'GoodsDetail'] // 需要登录的页面
  let isLogin = localTake('userMsg') // 判断是否登录，本地存储有用户数据则视为已经登录
  // 未登录状态；当路由到 nextRoute 指定页时，跳转至 UserLogIn
  if (nextRoute.indexOf(to.name) >= 0) {
    // 检测是否登录的页面
    if (!isLogin) {
      // 如果未登录（本地存储无用户数据），并且要跳到登录页面
      if (from.name === 'UserLogIn') {
        next('/')
        return
      } // 登录后，跳到到当前页面
      router.push({
        name: 'UserLogIn',
        params: { redirect: to.fullPath },
      })
    }
  }
  // 已登录状态；当路由到 UserLogIn 时，跳转至 Home
  if (to.name === 'UserLogIn') {
    if (isLogin) {
      next('/')
      return
    }
  }
  next() // 必须使用 next ,执行效果依赖 next 方法的调用参数
})

export default router
```

**方法二：通过定义 to.meta.needLogin（needLogin 为自定义，路由元信息），判断是否需要登录**

```javascript
import Vue from 'vue'
import Router from 'vue-router'
import store from './../store'

import Home from 'components/home/home' // 主页组件

// 其它组件...

import Cart from 'components/cart/cart' // 购物车组件
import User from 'components/user/user' // 用户中心组件

// 其他组件...

import GoodsDetail from 'components/goods-detail/goods-detail' // 商品详情组件

import { localTake } from 'common/js/localStore' // 本地存储方法封装

Vue.use(Router)
const router = new Router({
  routes: [
    {
      path: '/', // 默认地址
      redirect: '/home',
    },
    {
      path: '/home',
      component: Home,
      name: 'Home',
      meta: {
        title: '主页',
        keepAlive: true, // 需要被缓存
      },
    },
    {
      path: '/cart',
      component: Cart,
      name: 'Cart',
      meta: {
        title: '购物车',
        keepAlive: true, // 需要被缓存
        needLogin: true, // 需要登录
      },
    },
    {
      path: '/user',
      component: User,
      name: 'User',
      meta: {
        title: '我的',
        keepAlive: true, // 需要被缓存
        needLogin: true, // 需要登录
      },
    },
    {
      path: '/user-login',
      component: UserLogIn,
      name: 'UserLogIn',
      meta: {
        title: '登录',
        keepAlive: false, // 不需要被缓存
      },
    },
    {
      path: '/goods-detail',
      component: GoodsDetail,
      name: 'GoodsDetail',
      meta: {
        title: '商品详情',
        keepAlive: true, // 需要被缓存
        needLogin: true, // 需要登录
      },
    },
  ],
})
// 全局路由守卫
router.beforeEach((to, from, next) => {
  let isLogin = localTake('userMsg')
  if (to.meta.needLogin) {
    // 判断该路由是否需要登录权限
    if (isLogin) {
      // 判断是否已经登录
      next()
    } else {
      next({
        path: '/login',
        query: { redirect: to.fullPath }, // 将跳转的路由path作为参数，登录成功后跳转到该路由
      })
    }
  } else {
    next()
  }
})

export default router
```

## vue 中使用 less

安装`npm install --save less less-loader`

引入

```javascript
import less from 'less'
Vue.use(less)
```

错误`loaderContext.getResolve is not a function`

这种情况为 less-loader 版本过高 `npm install less-loader@4.1.0 --save`

## vue 实现不同页面显示不同标题

```js
// index.js
import Vue from 'vue'
import Router from 'vue-router'
import Index from '@/components/Index'

Vue.use(Router)

export default new Router({
  routes: [
    {
      path: '/index',
      name: 'index',
      components: Index,
      meta: {
        title: '首页',
      },
    },
  ],
})

// main.js
router.beforeEach((to, from, next) => {
  // to来自  from  去哪
  if (to.meta.title) {
    document.title = to.meta.title
  }
  next()
})
```

## element-ui

### element-ui 如何实现响应式菜单

https://www.jb51.net/article/186102.htm

```vue
<template>
  <div class="menu-container">
    <el-menu
      :default-active="activeIndex"
      class="el-menu"
      mode="horizontal"
      background-color="#000000"
      text-color="#fff"
      active-text-color="#ccc"
      router="true"
      @select="handleSelect"
    >
      <el-menu-item index="/" route="/">
        <img src="../assets/images/nike_logo.png" style="height:40px" />
      </el-menu-item>
      <el-menu-item index="invalidlink" route="invalidlink">
        <i class="el-icon-price-tag"></i>Invalid Link CN
      </el-menu-item>
      <el-menu-item index="autoscreenshot">
        <i class="el-icon-picture"></i>Auto Screenshot CN
      </el-menu-item>
      <el-menu-item index="pricecheck">
        <i class="el-icon-check"></i>Price Check CN
      </el-menu-item>
      <el-menu-item index="manualupload">
        <i class="el-icon-upload"></i>Manual Upload CN
      </el-menu-item>
      <el-menu-item> <i class="el-icon-user"></i>username </el-menu-item>
      <el-menu-item>
        <span class="iconfont">&#xe65e;</span>region
      </el-menu-item>

      <el-menu-item> <i class="el-icon-switch-button"></i>Logout </el-menu-item>
    </el-menu>
  </div>
</template>

<script>
export default {
  name: 'Nav',
  data() {
    return {
      activeIndex: '1',
      activeIndex2: '1',
      navItems: [
        {
          name: 'Invalid Link CN',
          indexPath: '/invalidlink',
          index: '1',
        },
        {
          name: 'Auto Screenshot CN',
          indexPath: '/subscribe',
          index: '2',
        },
        {
          name: 'Price Check CN',
          indexPath: '/pricecheck',
          index: '3',
        },
        {
          name: 'Manual Upload CN',
          indexPath: '/manualupload',
          index: '4',
        },
      ],
      screenWidth: document.body.clientWidth,
    }
  },
  methods: {
    handleSelect(key, keyPath) {
      console.log(key, keyPath)
    },
  },
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style lang="less" scoped></style>
```

### elementUI select 默认选中

```vue
<template>
  <el-select v-model="value" placeholder="请选择">
    <el-option
      v-for="item in options"
      :key="item.value"
      :label="item.label"
      :value="item.value"
    >
    </el-option>
  </el-select>
</template>

<script>
export default {
  data() {
    return {
      options: [
        {
          value: '选项1',
          label: '黄金糕',
        },
        {
          value: '选项2',
          label: '双皮奶',
        },
        {
          value: '选项3',
          label: '蚵仔煎',
        },
        {
          value: '选项4',
          label: '龙须面',
        },
        {
          value: '选项5',
          label: '北京烤鸭',
        },
      ],
      value: '', // 选取默认值在里面就可以了，比如：  value:"选项2"；
    }
  },
}
</script>
```

### element-ui 封装登录组件

```vue
<template>
  <div>
    <el-form :model="ruleForm" :rules="rules" ref="ruleForm">
      <el-form-item prop="username">
        <el-input v-model="ruleForm.username" placeholder="请输入用户名">
          <i slot="prefix" class="el-icon-user"></i>
        </el-input>
      </el-form-item>
      <el-form-item prop="password">
        <el-input
          v-model="ruleForm.password"
          placeholder="请输入密码"
          show-password
        >
          <i slot="prefix" class="el-icon-lock"></i>
        </el-input>
      </el-form-item>
      <el-form-item>
        <el-button @click="login" type="primary" style="width:100%"
          >登录</el-button
        >
      </el-form-item>
    </el-form>
  </div>
</template>
<script>
export default {
  name: 'Login',
  components: {},
  props: {
    ruleForm: {
      type: Object,
      required: true,
    },
    rules: {
      type: Object,
      required: true,
    },
  },
  methods: {
    login() {
      this.$refs.ruleForm.validate((valid) => {
        if (valid) {
          this.$emit('event', 'submit')
        } else {
          this.$emit('event', 'errHandle')
        }
      })
    },
  },
}
</script>
```

### element-ui（el-table、el-pagination）实现表格分页

el-pagination 中：

layout 代表组件布局，子组件名用逗号分隔
属性： total 代表总条目数
事件： current-change 用于监听页数改变，而内容也发生改变

```vue
<template>
  <div>
    <el-table
      ref="multipleTable"
      :data="
        tableData.slice((currentPage - 1) * pagesize, currentPage * pagesize)
      "
      tooltip-effect="dark"
      style="width: 100%"
      @selection-change="handleSelectionChange"
    >
      <el-table-column type="selection" width="55"> </el-table-column>
      <el-table-column prop="name" label="姓名" width="120"> </el-table-column>
      <el-table-column prop="age" label="年龄" width="120"> </el-table-column>
      <el-table-column prop="sex" label="性别" width="120"> </el-table-column>
      <el-table-column prop="department" label="部门" width="150">
      </el-table-column>
      <el-table-column prop="floor" label="楼层" width="120"> </el-table-column>
      <el-table-column prop="area" label="区域" width="120"> </el-table-column>
      <el-table-column label="操作">
        <template slot-scope="scope">
          <el-button size="mini" @click="handleEdit(scope.$index, scope.row)"
            >修改
          </el-button>
          <el-button
            size="mini"
            type="danger"
            @click="handleDelete(scope.$index, scope.row)"
            >删除
          </el-button>
        </template>
      </el-table-column>
    </el-table>
    <div style="text-align: center;margin-top: 30px;">
      <el-pagination
        background
        layout="prev, pager, next"
        :total="total"
        @current-change="current_change"
      >
      </el-pagination>
    </div>
  </div>
</template>

export default { name: "dataList", data() { return { tableData: [],
multipleSelection: [], total: 0, pagesize:10, currentPage:1 } }, methods: {
addUser() { this.$http({ method: 'GET', url: 'http://127.0.0.1:8080/api/users',
}).then(res => { console.log(res); if (!res.data.errno) { this.tableData =
res.data.data.users; this.total= res.data.totalnum; } }).catch(function (error)
{ console.log(error); }); }, current_change:function(currentPage){
this.currentPage = currentPage; }, 　　　　 mounted: function () { 　　　　
this.addUser();　　　　 } }
```

### element-ui 之表格中如何插入图片链接

```vue
<el-table :data="banner" style="width: 100%">
	<el-table-column prop="id" label="ID" sortable width="180">
	</el-table-column>
	<el-table-column prop="imgDiscrete" label="图片描述" sortable width="180">
	</el-table-column>
	<el-table-column prop="isEnable" label="是否可用" sortable width="180">
		<template slot-scope="scope">
			<span v-if="scope.row.isEnable==0">不可用</span>
			<span v-if="scope.row.isEnable==1">可用</span>
		</template>

	</el-table-column>
	<el-table-column prop="imgPath" label="图片路径" sortable width="180">
		<!--插入图片链接的代码-->
		<template slot-scope="scope">
			<img :src="scope.row.imgPath" alt="" style="width: 50px;height: 50px">
		</template>
	</el-table-column>
	<el-table-column label="操作">
		<template slot-scope="scope">
			<el-button size="mini" type="success" @click.native.prevent="myedit(scope.$index,banner)">编辑</el-button>
			<el-button size="mini" type="success" @click.native.prevent="mydel(scope.$index,banner)">删除</el-button>
		</template>
	</el-table-column>
</el-table>
```

### element-ui 表格中实现图片的单击放大、悬浮放大、长按放大

采用 element 的 popover 弹出框组件

```vue
<el-table-column
  align="center"
  label="二维码图片"
  width="120"
  :show-overflow-tooltip="true"
  prop="image_url"
>
	<template scope="scope">
		<el-popover placement="right" title="" trigger="click">
			<el-image slot="reference" :src="scope.row.image_url" :alt="scope.row.image_url" style="max-height: 200px;max-width: 200px"></el-image>
			<el-image :src="scope.row.image_url"></el-image>
		</el-popover>
	</template>
</el-table-column>
```

trigger 属性用于设置何时触发 Popover，支持四种触发方式：hover，click，focus 和 manual。

### element-ui 表格超链接跳转

```vue
<el-table-column prop="link" label="URL">
	<template slot-scope="scope">
		<a :href="scope.row.link" target="_blank">{{scope.row.link}}</a>
	</template>
</el-table-column>
```

### element-ui 表格宽度根据内容自适应

`ex-table-column`
`af-table-column`

## 上传 excel 并在页面显示

```vue
<el-upload
  class="upload"
  action
  :multiple="false"
  :show-file-list="false"
  accept="csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
  :http-request="httpRequest"
>
    <el-button size="small" type="primary">上传</el-button>
</el-upload>

httpRequest(e) { let file = e.file; // 文件信息 if (!file) { // 没有文件 return
false; } else if (!/\.(xls|xlsx)$/.test(file.name.toLowerCase())) { //
格式根据自己需求定义
this.$message.error("上传格式不正确，请上传xls或者xlsx格式"); return false; }
const fileReader = new FileReader(); let this_ = this; fileReader.onload = (ev)
=> { try { const data = ev.target.result; const workbook = XLSX.read(data, {
type: "binary", // 以字符编码的方式解析 }); console.log(workbook); const exlname
= workbook.SheetNames[0]; // 取第一张表 console.log(XLSX); let exl =
XLSX.utils.sheet_to_json(workbook.Sheets[exlname]); // 生成json表格内容
exl.map((item) => { let time = this_.getNextDate("1900-01-01", item.date - 2);
return (item.date = time); }); this.tableData = exl; } catch (e) {
console.log("出错了：："); return false; } };
fileReader.readAsBinaryString(file); }, getNextDate(date, day) { var dd = new
Date(date); dd.setDate(dd.getDate() + day); var y = dd.getFullYear(); var m
=dd.getMonth() + 1 < 10 ? "0" + (dd.getMonth() + 1) : dd.getMonth() + 1; var d =
dd.getDate() < 10 ? "0" + dd.getDate() : dd.getDate(); return y + "-" + m + "-"
+ d; },
```

## [vue-cookies](https://www.npmjs.com/package/vue-cookies)

### Installation

#### Browser

```html
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue-cookies@1.7.4/vue-cookies.js"></script>
```

#### Package Managers

```vue
npm install vue-cookies --save // require var Vue = require('vue')
Vue.use(require('vue-cookies')) // es2015 module import Vue from 'vue' import
VueCookies from 'vue-cookies' Vue.use(VueCookies) // set default config
Vue.$cookies.config('7d') // set global cookie
Vue.$cookies.set('theme','default'); Vue.$cookies.set('hover-time','1s');
```

### Api

syntax format: **[this | Vue].$cookies.[method]**

- Set global config

```
$cookies.config(expireTimes[,path[, domain[, secure[, sameSite]]])  // default: expireTimes = 1d, path = '/', domain = '', secure = '', sameSite = 'Lax'
```

- Set a cookie

```
$cookies.set(keyName, value[, expireTimes[, path[, domain[, secure[, sameSite]]]]])   //return this
```

- Get a cookie

```
$cookies.get(keyName)  // return value
```

- Remove a cookie

```
$cookies.remove(keyName [, path [, domain]])  // return this
```

- Exist a `cookie name`

```
$cookies.isKey(keyName)  // return false or true
```

- Get All `cookie name`

```
$cookies.keys()  // return a array
```

### Example Usage

#### set global config

```
// 30 day after, expire
Vue.$cookies.config('30d')

// set secure, only https works
Vue.$cookies.config('7d','','',true)

// 2019-03-13 expire
this.$cookies.config(new Date(2019,03,13).toUTCString())

// 30 day after, expire, '' current path , browser default
this.$cookies.config(60 * 60 * 24 * 30,'');
```

#### support json object

```
var user = { id:1, name:'Journal',session:'25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX' };
this.$cookies.set('user',user);
// print user name
console.log(this.$cookies.get('user').name)
```

#### set expire times

**Suppose the current time is : Sat, 11 Mar 2017 12:25:57 GMT**

**Following equivalence: 1 day after, expire**

**Support chaining sets together**

```
 // default expire time: 1 day
this.$cookies.set("user_session","25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX")
        // number + d , ignore case
        .set("user_session","25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX","1d")
        .set("user_session","25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX","1D")
        // Base of second
        .set("user_session","25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX",60 * 60 * 24)
        // input a Date, + 1day
        .set("user_session","25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX", new Date(2017, 03, 12))
        // input a date string, + 1day
        .set("user_session","25j_7Sl6xDq2Kc3ym0fmrSSk2xV2XkUkX", "Sat, 13 Mar 2017 12:25:57 GMT")
```

#### set expire times, input number type

```
this.$cookies.set("default_unit_second","input_value",1);            // 1 second after, expire
this.$cookies.set("default_unit_second","input_value",60 + 30);      // 1 minute 30 second after, expire
this.$cookies.set("default_unit_second","input_value",60 * 60 * 12); // 12 hour after, expire
this.$cookies.set("default_unit_second","input_value",60 * 60 * 24 * 30); // 1 month after, expire
```

#### set expire times - end of browser session

```
this.$cookies.set("default_unit_second","input_value",0);          // end of session - use 0 or "0"!
```

#### set expire times , input string type

| Unit | full name |
| :--- | :-------- |
| y    | year      |
| m    | month     |
| d    | day       |
| h    | hour      |
| min  | minute    |
| s    | second    |

**Unit Names Ignore Case**

**not support the combination**

**not support the double value**

```
this.$cookies.set("token","GH1.1.1689020474.1484362313","60s");  // 60 second after, expire
this.$cookies.set("token","GH1.1.1689020474.1484362313","30MIN");  // 30 minute after, expire, ignore case
this.$cookies.set("token","GH1.1.1689020474.1484362313","24d");  // 24 day after, expire
this.$cookies.set("token","GH1.1.1689020474.1484362313","4m");  // 4 month after, expire
this.$cookies.set("token","GH1.1.1689020474.1484362313","16h");  // 16 hour after, expire
this.$cookies.set("token","GH1.1.1689020474.1484362313","3y");  // 3 year after, expire

// input date string
this.$cookies.set('token',"GH1.1.1689020474.1484362313", new Date(2017,3,13).toUTCString());
this.$cookies.set("token","GH1.1.1689020474.1484362313", "Sat, 13 Mar 2017 12:25:57 GMT ");
```

#### set expire support date

```
var date = new Date;
date.setDate(date.getDate() + 1);
this.$cookies.set("token","GH1.1.1689020474.1484362313", date);
```

#### set never expire

```
this.$cookies.set("token","GH1.1.1689020474.1484362313", Infinity);  // never expire
// never expire , only -1,Other negative Numbers are invalid
this.$cookies.set("token","GH1.1.1689020474.1484362313", -1);
```

#### remove cookie

```
this.$cookies.set("token",value); // domain.com and *.doamin.com are readable
this.$cookies.remove("token"); // remove token of domain.com and *.doamin.com

this.$cookies.set("token", value, null, null, "domain.com"); // only domain.com are readable
this.$cookies.remove("token", null, "domain.com"); // remove token of domain.com
```

#### set other arguments

```
// set path
this.$cookies.set("use_path_argument","value","1d","/app");

// set domain
this.$cookies.set("use_path_argument","value",null, null, "domain.com");   // default 1 day after,expire

// set secure
this.$cookies.set("use_path_argument","value",null, null, null,true);

// set sameSite - should be one of `None`, `Strict` or `Lax`. Read more https://web.dev/samesite-cookies-explained/
this.$cookies.set("use_path_argument","value",null, null, null, null, "Lax");
```

#### other operation

```
// check a cookie exist
this.$cookies.isKey("token")

// get a cookie
this.$cookies.get("token");

// remove a cookie
this.$cookies.remove("token");

// get all cookie key names, line shows
this.$cookies.keys().join("\n");

// remove all cookie
this.$cookies.keys().forEach(cookie => this.$cookies.remove(cookie))

// vue-cookies global
[this | Vue].$cookies.[method]
```

# echarts 学习

```vue
<div id="main" style="width: 100%;height:500px;" ref="myCharts"></div>

mounted(){ const myCharts = this.$echarts.init(this.$refs.myCharts); let options
= {} myCharts.setOption(options); }
```

```javascript
options = {
  title: {
    text: 'Invalid Percentage Date Sequence Diagram', //图表顶部的标题
    x: 'center',
    textStyle: {
      fontSize: 16,
    },
  },
  tooltip: {
    //鼠标悬浮框的提示文字
    trigger: 'axis',
  },
  legend: {
    type: 'scroll',
    icon: 'circle',
    data: [],
    top: 25,
    left: '5%',
  },
  grid: {
    left: '3%',
    right: '5%',
    bottom: '10%',
    top: '30%',
    containLabel: true,
  },
  xAxis: [
    {
      type: 'category',
      boundaryGap: false,
      axisLine: { onZero: false },
      //x轴坐标数据
      data: [],
    },
  ],
  yAxis: [
    {
      //y轴坐标数据
      type: 'value',
      name: 'Invalid %',
      axisLabel: {
        formatter: '{value} %',
      },
    },
  ],
  series: [
    //驱动图表生成的数据内容数组，几条折现，数组中就会有几个对应对象，来表示对应的折线
    {
      name: '',
      type: 'line', //pie->饼状图  line->折线图  bar->柱状图
      data: [],
    },
    {
      name: '',
      type: 'line', //pie->饼状图  line->折线图  bar->柱状图
      data: [],
    },
  ],
}
```

# react

## 新建 react 项目命令

`npx create-react-app demo`

# bootstrap

## bootstrap 响应式导航栏

```html
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button
        type="button"
        class="navbar-toggle collapsed"
        data-toggle="collapse"
        data-target="#navbar"
        aria-expanded="false"
        aria-controls="navbar"
      >
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand">
        <img
          src="../assets/images/nike_logo.png"
          style="height: 40px;margin-top: -10px;"
        />
      </a>
    </div>

    <div class="collapse navbar-collapse" id="navbar">
      <ul class="nav navbar-nav">
        <li class="active">
          <router-link to="/link">
            <i class="glyphicon glyphicon-tags"></i>&nbsp;&nbsp;Invalid Link CN
          </router-link>
        </li>
        <li class="active">
          <router-link to="/screen">
            <i class="glyphicon glyphicon-picture"></i>&nbsp;&nbsp;Auto
            Screenshot CN
          </router-link>
        </li>
        <li class="active">
          <router-link to="/price">
            <i class="glyphicon glyphicon-ok-circle"></i>&nbsp;&nbsp;Price Check
            CN
          </router-link>
        </li>

        <li class="active">
          <router-link to="/manualupload">
            <i class="glyphicon glyphicon-circle-arrow-up"></i
            >&nbsp;&nbsp;Manual Upload CN
          </router-link>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="active">
          <a href="#">
            <i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;username
          </a>
        </li>
        <li class="active">
          <img
            src="../assets/images/nike_cn.png"
            style="width: 25px;height:20px;margin-top: 15px;"
          />
        </li>
        <li class="dropdown active" style="padding-left:0;">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            &nbsp;&nbsp; Region
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="#">
                <img src="../assets/images/nike_cn.png" style="height:20px" />
                &nbsp;&nbsp;CN
              </a>
            </li>
            <li>
              <a href="#">
                <img
                  src="../assets/images/nike_hk.png"
                  style="height:18px"
                />&nbsp;&nbsp; HK
              </a>
            </li>
          </ul>
        </li>
        <li class="active">
          <a href="#">
            <i class="glyphicon glyphicon-off"></i>&nbsp;&nbsp;Log out
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
```

# [html2canvas](http://html2canvas.hertzen.com/)

```shell
npm install --save html2canvas
```

```html
<div id="capture" style="padding: 10px; background: #f5da55">
  <h4 style="color: #000; ">Hello world!</h4>
</div>
```

```javascript
html2canvas(document.querySelector('#capture')).then((canvas) => {
  document.body.appendChild(canvas)
})
```

# 错误信息整理

- `Do not use built-in or reserved HTML elements as component id: Line`组件，不能和 html 标签重复
- `Missing required prop: "value"`数据没有绑定，页面缺少 value 值。应该 v-model 进行数据绑定。
- `Expected Boolean, got String with value "false".`
  - 属性期望得到布尔值，实际是字符串
  - 解决方法:属性前加冒号`:`，表示这个属性的值是 data 里面的一个属性变量或者是 true 或 false
- `response out of time limit or subscription is canceled hint`:这个是因为当用户微信不活跃时间超过 24 小时（此时间当前是多少由腾讯定），不会将信息推送到用户微信公众号；需要用户随便发个消息给公众号产生交互才能正常

## better-scroll

1. `[BScroll warn]: Can not resolve the wrapper DOM. Vue better-scroll`
   `[Vue warn]: Error in mounted hook: “TypeError: Cannot read property ‘children’ of undefined”`

怎么回事呢？

```html
<div class="search-content" ref="search" v-if="keyword">...</div>
123
```

js

```javascript
  mounted () {
    this.scroll = new Bscroll(this.$refs.search)
  }
```

虽然我的 ref 是写了为 search 的，但是他还是报错找不到这个节点。
问题就出在 v-if 这里，在 mounted（挂载时执行）函数执行时，由于我的 keyword 在挂载时为空，所以该节点就不会被渲染出来，自然就找不到节点了。
这时候我们可以将 v-if 改为 v-show 就行了，v-show 会渲染它，但是不显示。

## 使用...扩展运算符报错

安装一个插件：
`npm install --save-dev babel-plugin-transform-object-rest-spread`
在.babelrc 文件中配置： `{"plugins":["transform-object-rest-spread"]}`
