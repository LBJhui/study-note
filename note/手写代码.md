# 节流

```javascript
/**
 * 函数节流（规定时间内只一次生效）
 * @param fn
 * @param t
 * @returns {Function}
 * @constructor
 */
export const Throttle = (fn, t = 500) => {
  let timer
  let prev = 0

  return function () {
    const now = Date.now()
    const remaining = t - (now - prev)
    const args = arguments
    if (remaining <= 0 || remaining > t) {
      if (timer) {
        clearTimeout(timer)
        timer = null
      }
      prev = now
      fn.apply(this, args)
    } else if (!timer) {
      timer = setTimeout(() => {
        prev = Date.now()
        timer = null
        fn.apply(this, args)
      }, remaining)
    }
  }
}
```

# 防抖

```javascript
/**
 * 函数防抖 (只执行最后一次点击)
 * @param fn
 * @param t
 * @returns {Function}
 * @constructor
 */
export const Debounce = (fn, t = 500) => {
  let timer
  return function () {
    const args = arguments
    if (timer) {
      clearTimeout(timer)
    }
    timer = setTimeout(() => {
      timer = null
      fn.apply(this, args)
    }, t)
  }
}
```

# 获取 url 中参数

```javascript
// 获取url中参数,对象返回全部参数
function getRequest() {
  // const url = location.href // 获取url中"?"符后的字串
  const queryString = location.href.substring(location.href.indexOf('?') + 1)
  const theRequest = {}

  const strs = queryString.split('&')
  for (var i = 0; i < strs.length; i++) {
    theRequest[strs[i].split('=')[0]] = unescape(strs[i].split('=')[1])
  }
  return theRequest
}

//返回url中指定 params 的值
function getParams(params) {
  return (
    decodeURIComponent(
      (new RegExp('[?|&]' + params + '=' + '([^&;]+?)(&|#|;|$)').exec(
        window.location.href
      ) || [, ''])[1].replace(/\+/g, '%20')
    ) || ''
  )
}
```
